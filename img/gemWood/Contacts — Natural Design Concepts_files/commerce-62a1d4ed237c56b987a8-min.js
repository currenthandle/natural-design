webpackJsonp([2],{0:function(m,n,g){g(1327);g(1550);g(1551);g(1554);g(1555);g(1328);g(1329);g(1330);g(1815);g(1331);g(1332);g(1333);g(1334);g(192);g(193);g(84);g(1816);g(1817);g(522);g(1335);g(1336);g(1337);g(242);g(1338);g(454);g(1818);g(1819);g(241);g(1589);g(1590);g(1587);g(1588);g(1339);g(1340);g(1585);g(239);g(240);g(1646);g(1341);g(1342);g(1820);g(1821);g(1822);g(1823);g(1343);g(501);g(1668);g(47);g(1344);g(1824);g(1345);g(1825);g(502);g(327);g(1826)},47:function(m,n,g){YUI.add("squarespace-widgets-data-widget",
function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.DataWidget=a.Base.create("dataWidget",a.Squarespace.Widgets.SSWidget,[],{initializer:function(a){a.dataState||(this.getProperty("ASYNC_DATA")?this.set("dataState",this.getProperty("DATA_STATES").INITIALIZED):this.set("dataState",this.getProperty("DATA_STATES").LOADED))},renderUI:function(){e.superclass.renderUI.call(this);this._updateDataStateClassName()},bindUI:function(){e.superclass.bindUI.call(this);var a=this.get("id");
this.after(a+"|dataChange",function(a){a.noSyncUI||this.syncUI()},this);this.after(a+"|dataStateChange",this._updateDataStateClassName,this)},_updateDataStateClassName:function(){var b=this.get("boundingBox"),c=this.get("dataState");a.Object.each(this.getProperty("DATA_STATES"),function(a){b.removeClass("data-state-"+a)});b.addClass("data-state-"+c)},setLoadingState:function(){return this.set("dataState",this.getProperty("DATA_STATES").LOADING)},setLoadedState:function(){return this.set("dataState",
this.getProperty("DATA_STATES").LOADED)},setLoadFailedState:function(){return this.set("dataState",this.getProperty("DATA_STATES").LOAD_FAILED)},loadedSuccessfully:function(){return this.get("dataState")===this.getProperty("DATA_STATES").LOADED},isLoading:function(){return this.get("dataState")===this.getProperty("DATA_STATES").LOADING},loadFailed:function(){return this.get("dataState")===this.getProperty("DATA_STATES").LOAD_FAILED}},{CSS_PREFIX:"sqs-data-widget",ASYNC_DATA:!1,DATA_STATES:{INITIALIZED:"initialized",
LOADING:"loading",LOADED:"loaded",LOAD_FAILED:"load-failed"},ATTRS:{data:{value:null,validator:function(b){return a.Lang.isUndefined(b)?(console.warn(this.name+": Will not set data to undefined."),!1):!0}},dataState:{valueFn:function(){return this.getProperty("DATA_STATES").INITIALIZED}},preventRenderTemplate:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",{requires:["base","node","widget","squarespace-ss-widget","squarespace-attr-validators"]})},84:function(m,n,g){YUI.add("squarespace-widgets-alert",
function(a){a.namespace("Squarespace.Widgets");a.Squarespace.Widgets.Alert=a.Base.create("alert",a.Squarespace.Widgets.Confirmation,[],{},{CSS_PREFIX:"sqs-widgets-confirmation",TYPE:a.Squarespace.Widgets.Confirmation.TYPE,ANCHOR:a.Squarespace.Widgets.Confirmation.ANCHOR,ATTRS:{className:{value:"alert"},style:{value:a.Squarespace.Widgets.Confirmation.TYPE.CONFIRM_ONLY},"strings.confirm":{value:"Okay"}}})},"1.0",{requires:["base","squarespace-widgets-confirmation"]})},192:function(m,n,g){YUI.add("squarespace-async-form",
function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.AsyncForm=a.Base.create("AsyncForm",a.Squarespace.Widgets.SSWidget,[],{initializer:function(){this._typeGetterMap={date:this._getMultiFieldVal,name:this._getMultiFieldVal,time:this._getMultiFieldVal,address:this._getMultiFieldVal,checkbox:this._getOptionFieldVal,likert:this._getLikertFieldVal,radio:this._getRadioFieldVal,select:this._getSelectVal,phone:this._getPhoneFieldVal};this._typeSetterMap={date:this._setMultiFieldVal,
name:this._setMultiFieldVal,time:this._setMultiFieldVal,address:this._setMultiFieldVal,checkbox:this._setOptionFieldVal,likert:this._setLikertFieldVal,radio:this._setRadioFieldVal,select:this._setSelectVal,phone:this._setPhoneFieldVal};this._defaultGetter=this._getSingleFieldVal;this._defaultSetter=this._setSingleFieldVal},renderUI:function(){e.superclass.renderUI.call(this);var b=this.get("form"),c=b.fields;a.Lang.isString(c[0])&&(c=a.Array.map(c,a.JSON.parse));var c={showTitle:this.get("showTitle"),
preventSubmit:this.get("preventDefaultSubmit")||this.get("preventAllSubmits"),hideSubmitButton:this.get("hideSubmitButton"),formId:b.id,formName:this.get("formName"),formFields:c,formSubmitButtonText:this.get("formSubmitButtonText"),formSubmissionMessage:b.parsedSubmissionMessage,formSubmissionHTML:b.submissionHTML},b=this.get("contentBox"),d=this.get("formTemplate").html,c=a.JSONTemplate.evaluateJsonTemplate(d,c);b.append(c);this._formEl=b.one("form");this._setFormData()},bindUI:function(){this._formEl.on("submit",
function(b){if(this.get("preventDefaultSubmit")&&!this.get("preventAllSubmits")){this._clearErrors();var c=this._validateForm(),d=c.errors;0<d.length?this._renderErrors(d):this.fetchValidatedFormSubmission(this.get("form").id,a.bind(function(){this.fire("submission",{data:c.data})},this),a.bind(function(b){var d=[];a.Object.each(b.errors,function(a,b){d.push({fieldId:b,message:a})});this._renderErrors(d)},this))}b.halt()},this);this.after("formDataChange",this._setFormData,this)},setStateSaving:function(){var a=
this.get("contentBox");a.addClass("saving");a.one('input[type="submit"]').set("value","Saving...")},setStateEditing:function(){var a=this.get("contentBox"),c=this.get("formSubmitButtonText");a.one('input[type="submit"]').set("value",c);a.removeClass("saving")},getLocalValidationErrors:function(){return this._validateForm().errors},fetchValidatedFormSubmission:function(b,c,d){a.Data.post({url:"/api/rest/forms/validate/"+b,headers:{"Content-Type":"application/json"},data:JSON.stringify(this.getFormData()),
success:c,failure:d})},getFormData:function(){return this._validateForm().data},_renderErrors:function(b){a.Array.each(b,function(a){this.get("contentBox").one("#"+a.fieldId).one(".title").insert('<div class="field-error">'+a.message+"</div>","before")},this)},_clearErrors:function(){this.get("contentBox").all(".field-error").remove(!0)},_validateForm:function(){var a={},c=[];this._formEl.all(".form-item").each(function(d){var f=d.getAttribute("id");if(d=this._getFieldData(d)){var h=d.error;h&&c.push({fieldId:f,
message:h});a[f]=d.data}},this);return{data:a,errors:c}},_getFieldData:function(b){var c=b.get("className").split(" "),d=null,f,h=!1;a.Array.each(c,function(b){a.Object.hasKey(this._typeGetterMap,b)?(d=b,f=this._typeGetterMap[d]):"section"===b&&(h=!0)},this);if(!h)return null===d&&(f=this._defaultGetter),f.call(this,b)},_getSingleFieldVal:function(b){var c=b.one(".field-element");if(c){var d=c.get("value"),f,d=!a.Lang.isValue(d)||""===d;b.hasClass("required")&&d&&(f="Required");return{data:c.get("value"),
error:f}}return null},_getMultiFieldVal:function(b){var c=[],d,f=!1;b.all(".field-element").each(function(b){var d=b.get("value");a.Lang.isValue(d)&&""!==d&&(f=!0);c.push(b.get("value"))});b.hasClass("required")&&!f&&(d="Required");return{data:c,error:d}},_getOptionFieldVal:function(a){var c=[],d;a.all("input").each(function(a){a.get("checked")&&c.push(a.get("value"))},this);a.hasClass("required")&&0===c.length&&(d="Required");return{data:c,error:d}},_getLikertFieldVal:function(b){var c={};b.all(".item").each(function(b){var f;
b.all("input").each(function(a){a.get("checked")&&(f=a.get("value"))});a.Lang.isValue(f)&&(c[b.getAttribute("data-question")]=f)});return{data:c,error:void 0}},_getRadioFieldVal:function(b){var c,d;b.all("input").each(function(a){a.get("checked")&&(c=a.get("value"))},this);b.hasClass("required")&&!a.Lang.isValue(c)&&(d="Required");return{data:c,error:d}},_getSelectVal:function(b){var c=b.one("select").get("value"),d,f=!a.Lang.isValue(c)||""===c;b.hasClass("required")&&f&&(d="Required");return{data:c,
error:d}},_getPhoneFieldVal:function(a){a=this._getMultiFieldVal(a);var c=a.data;c&&3===c.length&&c.unshift("");return a},_setFormData:function(){var b=this.get("formData");null!==b&&this._formEl.all(".form-item").each(function(c){var d=b[c.getAttribute("id")];if(d){var f=d.value,d=a.Lang.isValue(f)?f:d.values||[];this._setFieldData(c,d)}},this)},_setFieldData:function(b,c){var d=b.get("className").split(" "),f=null,h,k;a.Array.each(d,function(d){a.Object.hasKey(this._typeSetterMap,d)?(f=d,h=this._typeSetterMap[f]):
"section"===d&&(k=!0);if(!k)return null===f&&(h=this._defaultSetter),h.call(this,b,c)},this)},_setSingleFieldVal:function(a,c){var d=a.one(".field-element");if(d)return d.set("value",c)},_setMultiFieldVal:function(a,c){a.all(".field-element").each(function(a){a.set("value",c[a.getData("title")])})},_setOptionFieldVal:function(a,c){a.all("input").each(function(a){-1!==c.indexOf(a.get("value"))&&a.setAttribute("checked","checked")},this)},_setLikertFieldVal:function(b,c){b.all(".item").each(function(b){var f=
b.getAttribute("data-question"),f=c[f];a.Lang.isValue(f)&&""!==f&&(f=parseInt(f,10)+2,b.all("input").item(f).setAttribute("checked","checked"))})},_setRadioFieldVal:function(a,c){a.all("input").each(function(a){a.get("value")===c&&a.setAttribute("checked","checked")},this)},_setSelectVal:function(a,c){a.one("select").set("value",c)},_setPhoneFieldVal:function(a,c){3===a.all(".field").size()&&4===c.length&&c.shift();this._setMultiFieldVal(a,c)}},{CSS_PREFIX:"sqs-async-form",ATTRS:{form:{value:{fields:[]},
validator:a.Lang.isValue},formTemplate:{value:null},hideSubmitButton:{value:!1},formSubmitButtonText:{value:"Add to Cart"},formName:{value:"My Form Name"},formData:{value:null},showTitle:{value:!0},preventDefaultSubmit:{value:!0},preventAllSubmits:{value:!1}}})},"1.0",{requires:["base","node","json","squarespace-ss-widget","squarespace-json-template"]})},193:function(m,n,g){YUI.add("squarespace-json-template",function(a){function e(a){return a.replace(/([\{\}\(\)\[\]\|\^\$\-\+\?])/g,"\\$1")}function b(a,
b){var d=w[a+b];void 0===d&&(d="("+e(a)+"\\S.*?"+e(b)+"\n?)",d=RegExp(d,"g"));return d}function c(a,b){var d=[{context:a,index:-1}];return{PushSection:function(a){if(void 0===a||null===a)return null;a="@"==a?d[d.length-1].context:d[d.length-1].context[a]||null;d.push({context:a,index:-1});return a},Pop:function(){d.pop()},next:function(){var a=d[d.length-1];-1==a.index&&(a={context:null,index:0},d.push(a));var b=d[d.length-2].context;if(a.index==b.length)d.pop();else return a.context=b[a.index++],
!0},_Undefined:function(a){return void 0===b?null:b},_LookUpStack:function(a){for(var b=d.length-1;;){var c=d[b];if("@index"==a){if(-1!=c.index)return c.index}else if(c=c.context,"object"===typeof c&&(c=c[a],void 0!==c))return c;b--;if(-1>=b)return this._Undefined(a)}},get:function(a){if("@"==a)return d[d.length-1].context;var b=a.split("."),c=this._LookUpStack(b[0]);if(1<b.length)for(var f=1;f<b.length;f++){if(null===c)return"[JSONT: Can't resolve '"+a+"'.]";c=c[b[f]];if(void 0===c)return this._Undefined(b[f])}return c}}}
function d(a,b,d){for(var c=0;c<a.length;c++){var f=a[c];if("string"==typeof f)d(f);else(0,f[0])(f[1],b,d)}}function f(a,b,d){var c;c=b.get(a.name);for(var f=0;f<a.formatters.length;f++){var h=a.formatters[f];c=(0,h[0])(c,b,h[1])}d(c)}function h(a,b,c){var f=b.PushSection(a.section_name),h=!1;f&&(h=!0);f&&0===f.length&&(h=!1);h?(d(a.Statements(),b,c),b.Pop()):(b.Pop(),d(a.Statements("or"),b,c))}function k(a,b,c){for(var f=b.get("@"),h=0;h<a.clauses.length;h++){var k=a.clauses[h],e=k[1];if((0,k[0][0])(f,
b,k[0][1])){d(e,b,c);break}}}function p(a,b,c){var f=b.PushSection(a.section_name);if(f&&0<f.length){var f=f.length-1,h=a.Statements();a=a.Statements("alternate");for(var k=0;void 0!==b.next();k++)d(h,b,c),k!=f&&d(a,b,c)}else d(a.Statements("or"),b,c);b.Pop()}function l(d,c){function e(b){if(b.startsWith(q)){var d=c.partials[b.substr(q.length)];if(d)return[function(b,c,f){return a.JSONTemplate.evaluateJsonTemplate(d,b)},null];throw{name:"BadPartialInclude",message:b.substr(q)+" is not a valid partial. Remember, loops are not supported (a partial include cannot be included inside itself)."};
}var f=v.lookup(b);if(!f[0])throw{name:"BadFormatter",message:b+" is not a valid formatter"};return f}function l(a){var b=w.lookup(a);if(!b[0])throw{name:"BadPredicate",message:a+" is not a valid predicate"};return b}var v=new u([t(a.JSONTemplate.DEFAULT_FORMATTERS),s(a.JSONTemplate.DEFAULT_PREFIX_FORMATTERS)]),w=u([t(a.JSONTemplate.DEFAULT_PREDICATES),s(a.JSONTemplate.DEFAULT_PARAMETRIC_PREDICATES)]),I=c.format_char||"|";if(":"!=I&&"|"!=I)throw{name:"ConfigurationError",message:"Only format characters : and | are accepted"};
var E=c.meta||"{}",F=E.length;if(1==F%2)throw{name:"ConfigurationError",message:E+" has an odd number of metacharacters"};for(var J=E.substring(0,F/2),E=E.substring(F/2,F),F=b(J,E),y=g({}),C=[y],K=J.length,x,r,H=0;;){x=F.exec(d);if(null===x)break;else r=x[0];x.index>H&&(H=d.slice(H,x.index),y.Append(H));H=F.lastIndex;x=!1;"\n"==r.slice(-1)&&(r=r.slice(null,-1),x=!0);r=r.slice(K,-K);if("#"!=r.charAt(0)){if("."==r.charAt(0)){r=r.substring(1,r.length);var z={"meta-left":J,"meta-right":E,space:" ",tab:"\t",
newline:"\n"}[r];if(void 0!==z){y.Append(z);continue}if(z=r.match(M)){r=z[3];z[1]?(x=p,r=A({section_name:r})):(x=h,r=g({section_name:r}));y.Append([x,r]);C.push(r);y=r;continue}var D;if(z=r.match(m)){x=(D=z[1])?l(D):null;y.NewOrClause(x);continue}var z=!1,G=r.match(n);if(G){if(D=G[1],z=!0,-1==D.indexOf("?")){x=[function(a){return function(b,d){var c,f,h;if(-1!==a.indexOf(" || ")){c=a.split("||");for(h=0;h<c.length;h++)if(f=c[h].trim(),d.get(f))return!0;return!1}if(-1!==a.indexOf(" && ")){c=a.split(" && ");
for(h=0;h<c.length;h++)if(f=c[h].trim(),!d.get(f))return!1;return!0}return d.get(a)}}(D),null];r=L();r.NewOrClause(x);y.Append([k,r]);C.push(r);y=r;continue}}else if("?"==r.charAt(r.length-1)||"?"==r.split(" ")[0].charAt(r.split(" ")[0].length-1))D=r,z=!0;if(z){x=D?l(D):null;r=L();r.NewOrClause(x);y.Append([k,r]);C.push(r);y=r;continue}if("alternates with"==r){y.AlternatesWith();continue}if("end"==r){C.pop();if(0<C.length)y=C[C.length-1];else throw{name:"TemplateSyntaxError",message:"Got too many {end} statements"};
continue}}G=r.split(I);if(1==G.length)z=[e("str")];else{z=[];for(r=1;r<G.length;r++)z.push(e(G[r]));r=G[0]}y.Append([f,{name:r,formatters:z}]);x&&y.Append("\n")}}y.Append(d.slice(H));if(1!==C.length)throw{name:"TemplateSyntaxError",message:"Got too few {end} statements."};return y}a.namespace("JSONTemplate");var q="apply ",w={};a.JSONTemplate.DEFAULT_FORMATTERS=a.Squarespace.TEMPLATE_FORMATTERS;a.JSONTemplate.DEFAULT_PREFIX_FORMATTERS=[].concat(a.Squarespace.TEMPLATE_PREFIX_FORMATTERS,[{name:"pluralize",
func:function(a,b,d){switch(d.length){case 0:b="";d="s";break;case 1:b="";d=d[0];break;case 2:b=d[0];d=d[1];break;default:throw{name:"EvaluationError",message:"pluralize got too many args"};}return 1==a?b:d}},{name:"encode-space",func:function(a,b,d){return a.replace(/\s/g,"&nbsp;")}},{name:"truncate",func:function(a,b,d){b=d[0]||100;d=d[1]||"...";a&&a.length>b&&(a=a.substring(0,b),a=a.replace(/\w+$/,""),a+=d);return a}},{name:"date",func:function(b,d,c){var f=0,f=(new Date(b)).getTimezoneOffset();
if(!a.Lang.isNumber(b))return"Invalid date.";if("undefined"!==typeof TimezoneJS){var h;try{h=new TimezoneJS.Date(b,d.get("website.timeZone"))}catch(k){return"Invalid Timezone"}f=(isNaN(h.getTimezoneOffset())?0:h.getTimezoneOffset())-f}else d=-parseInt(d.get("website.timeZoneOffset"),10)/6E4,h=(new Date).getTimezoneOffset(),f=d-h;b=new Date(b-6E4*f);c=c.join(" ");return a.DataType.Date.format(b,{format:c})}},{name:"image",func:function(b,d,c){var f;b.mediaFocalPoint&&(f=b.mediaFocalPoint.x+","+b.mediaFocalPoint.y);
return'<img class="'+(c[0]?c[0]:"thumb-image")+'" '+(b.title?'alt="'+a.Squarespace.Escaping.escapeForHtmlTag(b.title)+'" ':"")+' data-image="'+b.assetUrl+'" data-image-dimensions="'+b.originalSize+'" data-image-focal-point="'+f+'"/>'}},{name:"timesince",func:function(b,d,c){if(!a.Lang.isNumber(b))return"Invalid date.";c.join(" ");return'<span class="timesince" data-date="'+b+'">'+a.Squarespace.DateUtils.humanizeDate(b)+"</span>"}},{name:"resizedHeightForWidth",func:function(a,b,d){b=a.split("x");
if(2!=b.length)return"Invalid source parameter.  Pass in 'originalSize'.";a=parseInt(b[0],10);b=parseInt(b[1],10);d=parseInt(d[0],10)/a;return parseInt(b*d,10)}},{name:"resizedWidthForHeight",func:function(a,b,d){b=a.split("x");if(2!=b.length)return"Invalid source parameter.  Pass in 'originalSize'.";a=parseInt(b[0],10);b=parseInt(b[1],10);d=parseInt(d[0],10)/b;return parseInt(a*d,10)}},{name:"squarespaceThumbnailForWidth",func:function(b,d,c){return a.Squarespace.Rendering.getSquarespaceSizeForWidth(parseInt(c[0],
10))}},{name:"squarespaceThumbnailForHeight",func:function(b,d,c){d=b.split("x");if(2!=d.length)return"Invalid source parameter.  Pass in 'originalSize'.";b=parseInt(d[0],10);d=parseInt(d[1],10);c=parseInt(c[0],10)/d;c=parseInt(b*c,10);return a.Squarespace.Rendering.getSquarespaceSizeForWidth(c)}},{name:"cycle",func:function(a,b,d){return d[(a-1)%d.length]}}]);var t=function(a){return{lookup:function(b){return[a[b]||null,null]}}},s=function(a){return{lookup:function(b){for(var d=0;d<a.length;d++){var c=
a[d].name,f=a[d].func;if(b.slice(0,c.length)==c)return d=b.charAt(c.length),b=""===d?[]:b.split(d).slice(1),[f,b]}return[null,null]}}},u=function(a){return{lookup:function(b){for(var d=0;d<a.length;d++){var c=a[d].lookup(b);if(c[0])return c}return[null,null]}}},v=function(a){var b={current_clause:[],Append:function(a){b.current_clause.push(a)},AlternatesWith:function(){throw{name:"TemplateSyntaxError",message:"{.alternates with} can only appear with in {.repeated section ...}"};},NewOrClause:function(a){throw{name:"NotImplemented"};
}};return b},g=function(a){var b=v(a);b.statements={"default":b.current_clause};b.section_name=a.section_name;b.Statements=function(a){return b.statements[a||"default"]||[]};b.NewOrClause=function(a){if(a)throw{name:"TemplateSyntaxError",message:"{.or} clause only takes a predicate inside predicate blocks"};b.current_clause=[];b.statements.or=b.current_clause};return b},A=function(a){var b=g(a);b.AlternatesWith=function(){b.current_clause=[];b.statements.alternate=b.current_clause};return b},L=function(a){var b=
v(a);b.clauses=[];b.NewOrClause=function(a){a=a||[function(a){return!0},null];b.current_clause=[];b.clauses.push([a,b.current_clause])};return b},M=/(repeated)?\s*(section)\s+(\S+)?/,m=/^or(?:[\s\-]+(.+))?/,n=/^if(?:[\s\-]+(.+))?/;a.JSONTemplate.Template=Class.create({initialize:function(a,b,d){a=this.removeMultilineComments(a);this._options=b||{};this._program=l(a,this._options)},removeMultilineComments:function(a){for(var b=a.search("{##"),d;0<=b;)d=a.substr(b),a=a.substr(0,b)+d.substr(d.search("##}")+
3),b=a.search("{##");return a},render:function(a,b){var f=c(a,this._options.undefined_str);d(this._program.Statements(),f,b)},expand:function(a){var b=[];this.render(a,function(a){b.push(a)});return b.join("")}});a.JSONTemplate.DEFAULT_PREDICATES=a.Squarespace.TEMPLATE_PREDICATES;a.JSONTemplate.DEFAULT_PARAMETRIC_PREDICATES=a.Squarespace.TEMPLATE_PARAMETRIC_PREDICATES;a.JSONTemplate.evaluateJsonTemplate=function(b,d,c){return"string"!=typeof b?"JSON Template Error: Processing failed because no input was provided. (type: "+
typeof b+", template: "+JSON.stringify(b)+", dictionary: "+JSON.stringify(d)+", partials: "+JSON.stringify(c)+")":(new a.JSONTemplate.Template(b,{partials:c})).expand(d)}},"1.0",{requires:"datatype-date-format squarespace-common squarespace-util squarespace-date-utils json squarespace-template-helpers".split(" ")})},239:function(m,n,g){YUI.add("squarespace-widgets-google-places-autocomplete",function(a){a.namespace("Squarespace.Widgets");a.Squarespace.Widgets.GooglePlacesAutocomplete=a.Base.create("GooglePlacesAutoCompleteWidget",
a.Squarespace.Widgets.ScrollingAutoCompleteList,[a.Squarespace.Mixins.GooglePlacesAutocomplete],{},{CSS_PREFIX:a.Squarespace.Widgets.ScrollingAutoCompleteList.CSS_PREFIX})},"1.0",{requires:["base","squarespace-scrolling-auto-complete-list","squarespace-mixins-google-places-autocomplete"]})},240:function(m,n,g){YUI.add("squarespace-scrolling-auto-complete-list",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.ScrollingAutoCompleteList=a.Base.create("ScrollingAutoCompleteList",
a.AutoCompleteList,[],{initializer:function(){this.publish("keyboardContinue");this.publish("listMouseUp");this.publish("listMouseDown")},renderUI:function(){e.superclass.renderUI.call(this);var b=this._scrollNode=a.Node.create('<div class="'+this.getClassName()+'-scroll-container"></div>');this.get("listNode").wrap(b);b.hide();(b=this.get("className"))&&this.get("contentBox").addClass(b)},bindUI:function(){e.superclass.bindUI.call(this);var a=this._scrollNode,c=this.get("inputNode");this.after("activeItemChange",
function(a){a.newVal&&this._scrollToActiveItem()},this);this.on("results",function(d){0<d.results.length?a.show():a.hide()},this);this.on(["select","clear"],function(){a.hide()});this.get("boundingBox").on(["focusoutside","clickoutside"],function(d){a.hide()});c.on("keydown",function(a){switch(a.keyCode){case 13:this.selectItem();this.fire("keyboardContinue");break;case 9:this.get("activeItem")&&(this.selectItem(),this.fire("keyboardContinue"));break;case 27:this.hide();break;case 38:this._activatePrevItem();
break;case 40:this._activateNextItem()}},this);this._listNode.delegate("mouseup",function(a){this.fire("listMouseUp");a.preventDefault()},this._SELECTOR_ITEM,this);this._listNode.delegate("mousedown",function(a){this.fire("listMouseDown")},this._SELECTOR_ITEM,this)},_activateNextItem:function(){e.superclass._activateNextItem.call(this);a.Lang.isNull(this.get("activeItem"))&&this.set("activeItem",this._getFirstItemNode())},_activatePrevItem:function(){e.superclass._activatePrevItem.call(this);a.Lang.isNull(this.get("activeItem"))&&
this.set("activeItem",this._getLastItemNode())},_scrollToActiveItem:function(){this.get("activeItem").scrollIntoView();var a=this._scrollNode,c=a.get("scrollTop"),d=a.one("li:first-child").get("offsetHeight");a.set("scrollTop",d*Math.round(c/d))}},{CSS_PREFIX:"sqs-scroll-ac",ATTRS:{className:{validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","autocomplete","lang/autocomplete-list","squarespace-attr-validators","event-outside"]})},241:function(m,n,g){YUI.add("squarespace-mixins-google-places-autocomplete",
function(a){a.namespace("Squarespace.Mixins");var e={POSTAL_CODE:"postal_code",COUNTRY:"country",LOCALITY:"locality",ROUTE:"route",STREET_NUMBER:"street_number",ADMIN_LEVEL_1:"administrative_area_level_1",SUBLOCALITY:"sublocality",POSTAL_TOWN:"postal_town",NEIGHBORHOOD:"neighborhood"},b=a.Object.values(e),c=a.Squarespace.Localities.COUNTRY_OPTIONS,d=["geocode"];a.Squarespace.Mixins.GooglePlacesAutocomplete=a.Base.create("GooglePlacesAutocomplete",a.Base,[],{initializer:function(){this.publish("placeDetails");
a.Do.after(this._afterRenderUI,this,"renderUI",this);a.Do.after(this._afterBindUI,this,"bindUI",this);this.after("render",this._enableBrowserAutoComplete,this);this.setAttrs({source:a.bind(this._accessAutocompleteService,this),enableCache:!1,resultTextLocator:"description",resultFilters:this._filterResults,resultFormatter:this._formatResults,minQueryLength:3})},_afterRenderUI:function(){var a=this.get("contentBox");a.addClass("sqs-google-places-autocomplete-mixin");a.one(".sqs-scroll-ac-scroll-container").append('<div class="google-required-elements"><div class="google-attributions"></div><div class="powered-by-google"></div></div>')},
_afterBindUI:function(){this.before("select",this._getDetailsForPrediction,this);this.on("placeDetails",this._fillWithAddressLine1,this);this._inputNode.on("focus",function(){this._inputNode.setAttribute("autocomplete","off");this._inputIsFocused=!0},this);this._inputNode.on("blur",function(){this._inputNode.setAttribute("autocomplete","on");this._inputIsFocused=!1},this)},_enableBrowserAutoComplete:function(){this._inputNode.setAttribute("autocomplete","on")},_getDetailsForPrediction:function(b){b.halt();
var d=b.result.raw;this._accessPlaceDetailsService(d,function(b,c){if(c===a.config.win.google.maps.places.PlacesServiceStatus.OK){var f=this._extractPlaceComponents(b),f=this._buildLocationPayload(f,d);this.fire("placeDetails",{place:f})}else console.warn("Error communicating with Google Places API")})},_extractPlaceComponents:function(d){return a.Array.reduce(d.address_components,{},function(d,f){var p=a.Array.find(f.types,function(d){return-1!==a.Array.indexOf(b,d)});d[p]=p?p===e.ADMIN_LEVEL_1?
f.short_name:p===e.COUNTRY?c[f.short_name].title:f.long_name:"";return d})},_buildLocationPayload:function(b,d){var c=a.Object.getValue(b,"street_number")||"",p=a.Object.getValue(b,"route")||"",l=a.Object.getValue(b,"country")||"",q=a.Object.getValue(b,"locality")||"",g=a.Object.getValue(b,"sublocality")||"",t=a.Object.getValue(b,"neighborhood")||"",g=[a.Object.getValue(b,"postal_town")||"",q,g,t],q=a.Array.find(g,function(b){return a.Array.find(d.terms,function(a){return a.value===b})})||q,c=this._getPreferredStreetNumber(p,
c),g=a.Object.getValue(b,e.ADMIN_LEVEL_1)||"",t=a.Object.getValue(b,e.POSTAL_CODE)||"",s=a.Array.filter([q,g,t],function(a){return!!a}).join(", ").trim();return{address:(c+" "+p).trim(),country:l,city:q,state:g,zip:t,fullLocality:s}},_getPreferredStreetNumber:function(a,b){var d=this.get("query"),c=a.split(" ")[0],c=d.toLowerCase().indexOf(c.toLowerCase()),d=d.substring(0,c).trim();return d.length>b.length?d:b},_accessAutocompleteService:function(b,d){if(this._autocompleteService)this._performAutoComplete(b,
d);else a.Squarespace.GoogleMaps.Renderer.onReady(function(){this._initAutocompleteService();this._performAutoComplete(b,d)},this)},_initAutocompleteService:function(){this._autocompleteService=new a.config.win.google.maps.places.AutocompleteService},_performAutoComplete:function(b,c){var k={input:b,types:d},e=a.bind(function(){this._inputIsFocused&&c.apply(this,arguments)},this);this._autocompleteService.getPlacePredictions(k,e)},_accessPlaceDetailsService:function(b,d){if(this._placeDetailsService)this._getPlaceDetails(b,
d);else a.Squarespace.GoogleMaps.Renderer.onReady(function(){this._initPlaceDetailsService();this._getPlaceDetails(b,d)},this)},_initPlaceDetailsService:function(){this._placeDetailsService=new a.config.win.google.maps.places.PlacesService(this.get("contentBox").one(".google-attributions"))},_getPlaceDetails:function(b,d){this._placeDetailsService.getDetails(b,a.bind(d,this))},_formatResults:function(b,d){return a.Array.map(d,function(b){var d=b.raw.terms,c=b.raw.matched_substrings,f=-1!==a.Array.indexOf(b.raw.types,
"street_address"),h=d[0].offset+d[0].value.length,d=d[1].offset+d[1].value.length,e=f?d:h;return a.Array.map(b.text.split(""),function(a,d){var f=["google-ac-character"];this._indexWithinMatchedSubstring(d,c)&&f.push("google-ac-matched-character");f='<span class="'+f.join(" ").trim()+'">'+a+"</span>";return 0===d?'<div class="google-ac-address">'+f:d===e?f+"</div>":d===e+1?'<div class="google-ac-trailing">'+f:d===b.text.length?f+"</div>":f},this).join("")},this)},_indexWithinMatchedSubstring:function(b,
d){return a.Array.some(d,function(a){return b>=a.offset&&b<a.offset+a.length})},_filterResults:function(b,d){return a.Array.filter(d,function(a){return this._predictionHasRouteComponent(a.raw)&&this._predictionContainsCountryInList(a.raw)},this)},_predictionContainsCountryInList:function(b){var d=this.get("countriesAllowed");return!a.Lang.isArray(d)||0===d.length?!0:a.Array.find(d,function(a){return-1!==b.description.indexOf(a)})},_predictionHasRouteComponent:function(b){return-1!==a.Array.indexOf(b.types,
e.ROUTE)}},{ATTRS:{countriesAllowed:{validator:a.Squarespace.AttrValidators.isNullOrArray}}})},"1.0",{requires:"autocomplete-highlighters base event-custom squarespace-attr-validators squarespace-google-maps-renderer squarespace-localities squarespace-util".split(" ")})},242:function(m,n,g){YUI.add("squarespace-localities",function(a){a.namespace("Squarespace");a.Squarespace.Localities={COUNTRY_OPTIONS:{"":{title:"Not Specified",empty:!0},AF:{title:"Afghanistan"},AL:{title:"Albania"},DZ:{title:"Algeria"},
AS:{title:"American Samoa"},AD:{title:"Andorra"},AO:{title:"Angola"},AI:{title:"Anguilla"},AQ:{title:"Antarctica"},AG:{title:"Antigua and Barbuda"},AR:{title:"Argentina"},AM:{title:"Armenia"},AW:{title:"Aruba"},AU:{title:"Australia"},AT:{title:"Austria"},AX:{title:"Aland Islands"},AZ:{title:"Azerbaijan"},BS:{title:"Bahamas"},BH:{title:"Bahrain"},BD:{title:"Bangladesh"},BB:{title:"Barbados"},BY:{title:"Belarus"},BE:{title:"Belgium"},BZ:{title:"Belize"},BJ:{title:"Benin"},BM:{title:"Bermuda"},BT:{title:"Bhutan"},
BO:{title:"Bolivia"},BA:{title:"Bosnia and Herzegovina"},BW:{title:"Botswana"},BV:{title:"Bouvet Island"},BR:{title:"Brazil"},IO:{title:"British Indian Ocean Territory"},BN:{title:"Brunei Darussalam"},BG:{title:"Bulgaria"},BF:{title:"Burkina Faso"},BI:{title:"Burundi"},KH:{title:"Cambodia"},CA:{title:"Canada"},CI:{title:"Cote d'Ivoire"},CM:{title:"Cameroon"},CV:{title:"Cape Verde"},KY:{title:"Cayman Islands"},CF:{title:"Central African Republic"},TD:{title:"Chad"},CL:{title:"Chile"},CN:{title:"China"},
CX:{title:"Christmas Island"},CC:{title:"Cocos (Keeling) Islands"},CO:{title:"Colombia"},KM:{title:"Comoros"},CG:{title:"Congo"},CD:{title:"Congo, Democratic Republic"},CK:{title:"Cook Islands"},CR:{title:"Costa Rica"},HR:{title:"Croatia"},CU:{title:"Cuba"},CY:{title:"Cyprus"},CZ:{title:"Czech Republic"},DK:{title:"Denmark"},DJ:{title:"Djibouti"},DM:{title:"Dominica"},DO:{title:"Dominican Republic"},TL:{title:"Timor-Leste"},EC:{title:"Ecuador"},EG:{title:"Egypt"},SV:{title:"El Salvador"},GQ:{title:"Equatorial Guinea"},
ER:{title:"Eritrea"},EE:{title:"Estonia"},ET:{title:"Ethiopia"},FK:{title:"Falkland Islands (Malvinas)"},FO:{title:"Faroe Islands"},FJ:{title:"Fiji"},FI:{title:"Finland"},FR:{title:"France"},GF:{title:"French Guiana"},PF:{title:"French Polynesia"},TF:{title:"French Southern Territories"},GA:{title:"Gabon"},GM:{title:"Gambia"},GE:{title:"Georgia"},DE:{title:"Germany"},GH:{title:"Ghana"},GI:{title:"Gibraltar"},GR:{title:"Greece"},GL:{title:"Greenland"},GD:{title:"Grenada"},GG:{title:"Guernsey"},GP:{title:"Guadeloupe"},
GU:{title:"Guam"},GT:{title:"Guatemala"},GN:{title:"Guinea"},GW:{title:"Guinea-Bissau"},GY:{title:"Guyana"},HT:{title:"Haiti"},HM:{title:"Heard and McDonald Islands"},HN:{title:"Honduras"},HK:{title:"Hong Kong"},HU:{title:"Hungary"},IS:{title:"Iceland"},IN:{title:"India"},ID:{title:"Indonesia"},IR:{title:"Iran"},IQ:{title:"Iraq"},IE:{title:"Ireland"},IM:{title:"Isle of Man"},IL:{title:"Israel"},IT:{title:"Italy"},JM:{title:"Jamaica"},JP:{title:"Japan"},JE:{title:"Jersey"},JO:{title:"Jordan"},KZ:{title:"Kazakhstan"},
KE:{title:"Kenya"},KI:{title:"Kiribati"},KP:{title:"Korea (the Democratic People's Republic of)"},KR:{title:"Korea (the Republic of)"},KV:{title:"Kosovo"},KW:{title:"Kuwait"},KG:{title:"Kyrgyzstan"},LA:{title:"Laos"},LV:{title:"Latvia"},LB:{title:"Lebanon"},LS:{title:"Lesotho"},LR:{title:"Liberia"},LY:{title:"Libya"},LI:{title:"Liechtenstein"},LT:{title:"Lithuania"},LU:{title:"Luxembourg"},MO:{title:"Macau"},MK:{title:"Macedonia"},MG:{title:"Madagascar"},MW:{title:"Malawi"},MY:{title:"Malaysia"},
MV:{title:"Maldives"},ML:{title:"Mali"},MT:{title:"Malta"},MH:{title:"Marshall Islands"},MQ:{title:"Martinique"},MR:{title:"Mauritania"},MU:{title:"Mauritius"},YT:{title:"Mayotte"},MX:{title:"Mexico"},FM:{title:"Micronesia"},MD:{title:"Moldova"},MC:{title:"Monaco"},MN:{title:"Mongolia"},ME:{title:"Montenegro"},MS:{title:"Montserrat"},MA:{title:"Morocco"},MZ:{title:"Mozambique"},MM:{title:"Myanmar"},NA:{title:"Namibia"},NR:{title:"Nauru"},NP:{title:"Nepal"},NL:{title:"Netherlands"},AN:{title:"Netherlands Antilles"},
NC:{title:"New Caledonia"},NZ:{title:"New Zealand"},NI:{title:"Nicaragua"},NE:{title:"Niger"},NG:{title:"Nigeria"},NU:{title:"Niue"},NF:{title:"Norfolk Island"},MP:{title:"Northern Mariana Islands"},NO:{title:"Norway"},OM:{title:"Oman"},PK:{title:"Pakistan"},PW:{title:"Palau"},PA:{title:"Panama"},PG:{title:"Papua New Guinea"},PS:{title:"Palestine, State of"},PY:{title:"Paraguay"},PE:{title:"Peru"},PH:{title:"Philippines"},PN:{title:"Pitcairn"},PL:{title:"Poland"},PT:{title:"Portugal"},PR:{title:"Puerto Rico"},
QA:{title:"Qatar"},RE:{title:"Reunion"},RO:{title:"Romania"},RU:{title:"Russian Federation"},RW:{title:"Rwanda"},GS:{title:"South Georgia and the South Sandwich Islands"},BL:{title:"Saint Barthelemy"},KN:{title:"Saint Kitts and Nevis"},LC:{title:"Saint Lucia"},VC:{title:"Saint Vincent and the Grenadines"},WS:{title:"Samoa"},SM:{title:"San Marino"},ST:{title:"Sao Tome and Principe"},SA:{title:"Saudi Arabia"},SN:{title:"Senegal"},RS:{title:"Serbia"},SC:{title:"Seychelles"},SL:{title:"Sierra Leone"},
SG:{title:"Singapore"},SK:{title:"Slovakia"},SI:{title:"Slovenia"},SB:{title:"Solomon Islands"},SO:{title:"Somalia"},ZA:{title:"South Africa"},ES:{title:"Spain"},LK:{title:"Sri Lanka"},SH:{title:"Saint Helena"},PM:{title:"Saint Pierre and Miquelon"},SD:{title:"Sudan"},SR:{title:"Suriname"},SJ:{title:"Svalbard and Jan Mayen Islands"},SZ:{title:"Swaziland"},SE:{title:"Sweden"},CH:{title:"Switzerland"},SY:{title:"Syria"},TW:{title:"Taiwan"},TJ:{title:"Tajikistan"},TZ:{title:"Tanzania"},TH:{title:"Thailand"},
TG:{title:"Togo"},TK:{title:"Tokelau"},TO:{title:"Tonga"},TT:{title:"Trinidad and Tobago"},TN:{title:"Tunisia"},TR:{title:"Turkey"},TM:{title:"Turkmenistan"},TC:{title:"Turks and Caicos Islands"},TV:{title:"Tuvalu"},US:{title:"United States"},UM:{title:"United States Minor Outlying Islands"},UG:{title:"Uganda"},UA:{title:"Ukraine"},AE:{title:"United Arab Emirates"},GB:{title:"United Kingdom"},UY:{title:"Uruguay"},UZ:{title:"Uzbekistan"},VU:{title:"Vanuatu"},VA:{title:"Vatican City State (Holy See)"},
VE:{title:"Venezuela"},VN:{title:"Vietnam"},VG:{title:"Virgin Islands (British)"},VI:{title:"Virgin Islands (U.S.)"},WF:{title:"Wallis and Futuna Islands"},EH:{title:"Western Sahara"},YE:{title:"Yemen"},ZM:{title:"Zambia"},ZW:{title:"Zimbabwe"}},STATE_OPTIONS:{AL:{title:"Alabama"},AK:{title:"Alaska"},AZ:{title:"Arizona"},AR:{title:"Arkansas"},CA:{title:"California"},CO:{title:"Colorado"},CT:{title:"Connecticut"},DE:{title:"Delaware"},FL:{title:"Florida"},GA:{title:"Georgia"},HI:{title:"Hawaii"},ID:{title:"Idaho"},
IL:{title:"Illinois"},IN:{title:"Indiana"},IA:{title:"Iowa"},KS:{title:"Kansas"},KY:{title:"Kentucky"},LA:{title:"Louisiana"},ME:{title:"Maine"},MD:{title:"Maryland"},MA:{title:"Massachusetts"},MI:{title:"Michigan"},MN:{title:"Minnesota"},MS:{title:"Mississippi"},MO:{title:"Missouri"},MT:{title:"Montana"},NE:{title:"Nebraska"},NV:{title:"Nevada"},NH:{title:"New Hampshire"},NJ:{title:"New Jersey"},NM:{title:"New Mexico"},NY:{title:"New York"},NC:{title:"North Carolina"},ND:{title:"North Dakota"},OH:{title:"Ohio"},
OK:{title:"Oklahoma"},OR:{title:"Oregon"},PA:{title:"Pennsylvania"},RI:{title:"Rhode Island"},SC:{title:"South Carolina"},SD:{title:"South Dakota"},TN:{title:"Tennessee"},TX:{title:"Texas"},UT:{title:"Utah"},VT:{title:"Vermont"},VA:{title:"Virginia"},WA:{title:"Washington"},DC:{title:"Washington, District of Columbia"},WV:{title:"West Virginia"},WI:{title:"Wisconsin"},WY:{title:"Wyoming"},AA:{title:"Armed Forces Europe"},AE:{title:"Armed Forces Americas"},AP:{title:"Armed Forces Pacific"}}};a.Squarespace.Localities.COUNTRIES_TO_STATES=
{US:a.Squarespace.Localities.STATE_OPTIONS,CA:{ON:{title:"Ontario"},QC:{title:"Quebec"},NS:{title:"Nova Scotia"},NB:{title:"New Brunswick"},MB:{title:"Manitoba"},BC:{title:"British Columbia"},PE:{title:"Prince Edward Island"},SK:{title:"Saskatchewan"},AB:{title:"Alberta"},NL:{title:"Newfoundland and Labrador"},NT:{title:"Northwest Territories"},YT:{title:"Yukon"},NU:{title:"Nunavut"}}};a.Squarespace.Localities.countryCodeFromName=function(b){for(var d in a.Squarespace.Localities.COUNTRY_OPTIONS)if(a.Squarespace.Localities.COUNTRY_OPTIONS[d].title===
b)return d};var e=function(b){return a.Array.reduce(a.Object.keys(b).sort(),[],function(a,f){a.push({label:b[f].title,value:f});return a})},b=function(a){return a.sort(function(a,b){return a.label<b.label?-1:1})};a.Squarespace.Localities.getAllCountryNames=function(){var b=[];a.Object.each(a.Squarespace.Localities.COUNTRY_OPTIONS,function(a){a.empty||b.push(a.title)});return b};a.Squarespace.Localities.getNewCountryOptions=function(){return b(e(a.Squarespace.Localities.COUNTRY_OPTIONS))};a.Squarespace.Localities.getNewStateOptionsForCountry=
function(b){return e(a.Squarespace.Localities.COUNTRIES_TO_STATES[b])};a.Squarespace.Localities.getAmericentricSortedCountryOptions=function(){var b=a.Array.filter(a.Squarespace.Localities.getNewCountryOptions(),function(a){return""!==a.value});b.sort(function(a,b){return a.label>b.label?1:a.label<b.label?-1:0});return b}})},327:function(m,n,g){YUI.add("squarespace-plugin-numeric-formatter",function(a){a.namespace("Squarespace.Plugin");a.Squarespace.Plugin.NumericFormatter=a.Base.create("numericFormatter",
a.Plugin.Base,[],{initializer:function(){a.Lang.isNumber(Number(this.get("host").get("value")))?this.set("data",Number(this.get("host").get("value"))):this.set("data",0);this.set("displayString",this._format(this.get("data")));this._bindUI();this._syncUI()},_format:function(a){return this.get("displayFormatter")(a)},_syncUI:function(){var e=this.get("data"),b=this.get("displayString");this.get("hasFocus")?this.get("host").set("value",0<e?b:""):(b="",a.Lang.isNull(this.get("prefixUnit"))||(b+=this.get("prefixUnit")),
b+=this._format(e),a.Lang.isNull(this.get("postfixUnit"))||(b+=" "+this.get("postfixUnit")),this.get("host").set("value",b))},_bindUI:function(){var a=this.get("host");this.on("displayStringChange",this._syncUI,this);a.on("valuechange",this._onValueChange,this);a.on("keydown",this._onKeyDown,this);a.on("focus",this._onFocus,this);a.on("blur",this._onBlur,this)},_onFocus:function(){this.set("hasFocus",!0);this._syncUI();setTimeout(a.bind(function(){this.get("host").select()},this),0)},_onBlur:function(){this.set("hasFocus",
!1);this.set("displayString",this._format(this.get("data")))},_onKeyDown:function(a){var b;b=this.get("host").get("value");-1<[9,13,8,46,37,39].indexOf(a.keyCode)||(b=96<=a.keyCode&&105>=a.keyCode?String.fromCharCode(a.keyCode-48):190===a.keyCode||110===a.keyCode?-1<b.indexOf(".")?"x":".":String.fromCharCode(a.keyCode),isFinite(Number(b))||"."===b||(a.stopPropagation(),a.preventDefault()))},_onValueChange:function(){var a=this.get("host").get("value"),a=this._transformToData(a);this.set("data",a)},
_displayFormatter:function(a){return a},_transformToData:function(e){var b;a.Lang.isUndefined(this.get("prefixUnit"))||(b=String(e).replace(RegExp(this.get("prefixUnit"))));a.Lang.isUndefined(this.get("postfixUnit"))||(b=String(e).replace(RegExp(this.get("postfixUnit"))));return Number(b)}},{NS:"numericFormatterPlugin",ATTRS:{hasFocus:{value:!1},data:{value:null},displayString:{value:null},prefixUnit:{value:null},postfixUnit:{value:null},displayFormatter:{value:function(a){return a}}}})},"1.0",{requires:["plugin",
"squarespace-util"]})},454:function(m,n,g){YUI.add("squarespace-plugin-pulsewarn",function(a){a.namespace("Squarespace.Plugin");a.Squarespace.Plugin.PulseWarn=a.Base.create("pulseWarn",a.Plugin.Base,[],{initializer:function(e){this.config=e;this.set("color",e.color);this.set("useClass",e.useClass);this.set("targetClass",e.targetClass);this.set("iterations",e.iterations);this.get("host").addClass("pulse-warnable");a.Lang.isUndefined(e.interval)||this.set("interval",e.interval);this._timer=null},destructor:function(){this._timer&&
(this._timer.cancel(),this._timer=null)},warn:function(){var e=this.get("host"),b=this.get("iterations"),c=e.getStyle("backgroundColor"),d=this.get("color");a.Lang.isNull(this._timer)||(this._timer.cancel(),this._timer=null);if(this.get("useClass")){var f=this.get("targetClass"),c=this.get("interval");this.fire("start");e.addClass(f);this._timer=a.later(c,this,function(){0===b?(e.removeClass(f),this.fire("stop"),this._timer.cancel(),this._timer=null):(e.hasClass(f)?e.removeClass(f):e.addClass(f),
b--)},{},!0)}else{var h=new a.Anim({node:e,to:{backgroundColor:d,opacity:0.8},easing:this.get("easingUp"),duration:this.get("duration")}),k=new a.Anim({node:e,to:{backgroundColor:c,opacity:1},easing:this.get("easingDown"),duration:this.get("duration")});h.on("end",function(){0<b&&k.run();b--});k.on("end",function(){0<b?h.run():this.fire("stop")},this);this.fire("start");h.run()}}},{NS:"pulseWarn",ATTRS:{useClass:{value:!1},iterations:{value:3},color:{value:"#c1b12e"},interval:{value:2E3},duration:{value:0.7},
easingUp:{value:a.Easing.easeInSine},easingDown:{value:a.Easing.easeOutSine}}})},"1.0",{requires:["base","plugin","anim"]})},501:function(m,n,g){YUI.add("squarespace-basic-check",function(a){var e=function(a){return function(b){b.halt();a.call(this,b)}};a.namespace("Squarespace.Widgets");var b=a.Squarespace.Widgets.BasicCheck=a.Base.create("basicCheck",a.Squarespace.Widgets.DataWidget,[],{bindUI:function(){b.superclass.bindUI.call(this);this.get("boundingBox").on("click",e(this._toggleActive),this)},
renderUI:function(){var b=this.get("contentBox");a.Lang.isValue(this.get("title"))&&b.append('<div class="title">'+this.get("title")+"</div>");var d=a.Node.create('<div class="check-element"></div>');b.append(d);a.Lang.isValue(this.get("label"))&&d.append('<div class="label">'+this.get("label")+"</div>")},syncUI:function(){b.superclass.syncUI.call(this);this.get("contentBox").one(".check-element").toggleClass("active",this.get("data"))},_toggleActive:function(){this.set("data",!this.get("data"))}},
{CSS_PREFIX:"sqs-basic-check",ATTRS:{data:{value:!1,validator:a.Lang.isBoolean},name:{value:null},title:{value:null},label:{value:null}}})},"1.0",{requires:["base","squarespace-dialog-check-template","squarespace-widgets-data-widget"]})},502:function(m,n,g){YUI.add("squarespace-plugin-money-formatter",function(a){a.namespace("Squarespace.Plugin");a.Squarespace.Plugin.MoneyFormatter=a.Base.create("moneyFormatter",a.Squarespace.Plugin.NumericFormatter,[],{_transformToData:function(e){return Number(a.Squarespace.Utils.convertToCents(e))}},
{NS:"moneyFormatterPlugin",ATTRS:{prefixUnit:{valueFn:function(){return a.Squarespace.Commerce.currencySymbol()}},displayFormatter:{value:a.Squarespace.Commerce.moneyFormat}}})},"1.0",{requires:["plugin","squarespace-util","squarespace-commerce-utils","squarespace-plugin-numeric-formatter"]})},522:function(m,n,g){YUI.add("squarespace-product-utils",function(a){a.Squarespace.ProductUtils={getProductAveragePrice:function(e){e=e.get("structuredContent");if(e.get("productType")===a.Squarespace.ProductTypes.DIGITAL)return e.get("priceCents");
e=e.get("variants");return a.Array.reduce(e,0,function(a,c){return a+(c.onSale?c.salePrice:c.price)})/e.length},getProductEffectiveStock:function(e){e=e.get("structuredContent");if(e.get("productType")===a.Squarespace.ProductTypes.DIGITAL)return Number.MAX_VALUE;e=e.get("variants");var b=0;a.Array.some(e,function(a){if(a.unlimited)return b=Number.MAX_VALUE,!0;b+=a.qtyInStock});return b},initializeVariantDropdowns:function(){a.all(".product-variants[data-variants]").each(function(e){var b=JSON.parse(e.getAttribute("data-variants")),
c=e.all("select"),d=e.siblings(".product-price").item(0),f;d&&(f=d.getHTML());a.Squarespace.ProductUtils._checkVariantStockAndPrice(e,b,c,d,f);c.detach("change");c.each(function(h){h.after("change",function(h){a.Squarespace.ProductUtils._checkVariantStockAndPrice(e,b,c,d,f)},this)},this)},this)},_checkVariantStockAndPrice:function(e,b,c,d,f){e.removeAttribute("data-unselected-options");e.removeAttribute("data-selected-variant");e.removeAttribute("data-variant-in-stock");var h=e.one(".variant-out-of-stock");
h&&h.remove();var k=[],h=null,p=!1,l={};c.each(function(a){var b=a.get("value"),d=a.getAttribute("data-variant-option-name");0===a.get("selectedIndex")?k.push(d):l[d]=b},this);if(0===k.length){for(c=0;c<b.length;c++){f=b[c];var q=!0,g;for(g in l)if(l[g]!=f.attributes[g]){q=!1;break}if(q){h=f;if(f.unlimited||0<f.qtyInStock)p=!0;break}}!h&&d?d.set("text","Unavailable"):d&&(d.empty(),h.onSale?(d.setHTML(a.Squarespace.Commerce.moneyString(h.salePrice)),d.append(a.Node.create('<span> </span><span class="original-price">'+
a.Squarespace.Commerce.moneyString(h.price)+"</span>"))):d.setHTML(a.Squarespace.Commerce.moneyString(h.price)));h&&!p&&e.append(a.Node.create('<div class="variant-out-of-stock">Out of stock.</div>'))}else d&&d.getHTML()!==f&&d.empty().setHTML(f);e.setAttribute("data-unselected-options",JSON.stringify(k));h&&e.setAttribute("data-selected-variant",JSON.stringify(h));p&&e.setAttribute("data-variant-in-stock",p)}}},"1.0",{requires:["base","node","squarespace-commerce-utils","squarespace-enum"]})},1327:function(m,
n,g){YUI.add("squarespace-commerce",function(a){a.namespace("Squarespace.Commerce");var e=a.config.win.Static;a.Squarespace.Commerce.initializeCommerce=function(){a.Squarespace.ProductUtils.initializeVariantDropdowns();a.Squarespace.CartUtils.initializeAddToCartButtons();a.Squarespace.CartUtils.initializeSuperbowlBuyButtons();if(!a.Squarespace.Commerce.isExpressCheckout()&&!a.Lang.isValue(a.one(".show-cart-page"))&&!a.Lang.isValue(a.one(".sqs-custom-cart"))){var b=a.one(".sqs-cart-dropzone");a.Lang.isNull(b)&&
(b=a.Node.create('<div class="absolute-cart-box"></div>'),a.one(a.config.doc.body).append(b));new a.Squarespace.Widgets.PillShoppingCart({model:a.Squarespace.Singletons.ShoppingCart,useLightCart:e.SQUARESPACE_CONTEXT.websiteSettings.storeSettings.useLightCart,render:b})}a.Lang.isValue(a.one(".sqs-custom-cart"))&&a.all(".sqs-custom-cart").each(function(b){(new a.Squarespace.Widgets.TemplateIntegratedShoppingCart({model:a.Squarespace.Singletons.ShoppingCart,boundingBox:b,srcNode:b})).render()});a.Lang.isNull(a.Cookie.get("CART"))?
a.all(".sqs-add-to-cart-button-wrapper").setStyle("visibility","visible"):a.Squarespace.Singletons.ShoppingCart.load(function(){a.all(".sqs-add-to-cart-button-wrapper").setStyle("visibility","visible")},this);a.Lang.isValue(a.one("#sqs-shopping-cart-wrapper"))&&new a.Squarespace.Widgets.FullPageShoppingCart({model:a.Squarespace.Singletons.ShoppingCart,linkItems:!0,render:a.one("#sqs-shopping-cart-wrapper")})};a.config.win.Squarespace.onInitialize(a,a.Squarespace.Commerce.initializeCommerce)},"1.0",
{requires:"event-base-ie overlay squarespace-pill-shopping-cart squarespace-template-integrated-shopping-cart squarespace-full-page-shopping-cart squarespace-product-utils squarespace-cart-utils squarespace-enum squarespace-donate-form".split(" ")})},1328:function(m,n,g){YUI.add("squarespace-pill-shopping-cart",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.PillShoppingCart=a.Base.create("pillShoppingCart",a.Squarespace.Widgets.SSWidget,[],{renderUI:function(){e.superclass.renderUI.call(this);
this.get("boundingBox").plug(a.Squarespace.Animations.Scalable,{duration:0.25});this._hide(!0);this.get("contentBox").addClass(this.get("useLightCart")?"light":"dark")},bindUI:function(){e.superclass.bindUI.call(this);this.get("model").on("change",this.syncUI,this);this.get("contentBox").on("click",function(){a.config.win.location="/commerce/show-cart"})},syncUI:function(){e.superclass.syncUI.call(this);var b=this.get("model"),c=b.get("totalQuantity"),d=this.get("contentBox"),f=function(){d.one(".total-quantity").setContent(100<
c?"100+":c);d.one(".suffix").setContent(1===c?"item":"items");d.one(".subtotal .price").setContent(a.Squarespace.Commerce.moneyString(b.get("subtotalCents")))};0<c?(f(),this._show()):(this._hide(),f())},_show:function(){var b=this.get("boundingBox");if(b.hasClass("sqs-scalable-hidden"))b.show();else{var c=a.Easing.easeOutStrong,d=new a.Anim({node:b,to:{opacity:0.7},duration:0.2,easing:c}),f=new a.Anim({node:b,to:{opacity:1},duration:0.5,easing:c});d.on("end",function(){f.run()});d.run()}},_hide:function(a){var c=
this.get("boundingBox");c.hasClass("sqs-scalable-hidden")||c.hide(a)}},{CSS_PREFIX:"sqs-pill-shopping-cart",HANDLEBARS_TEMPLATE:"pill-shopping-cart.html",ATTRS:{model:{value:null,validator:function(b){return a.instanceOf(b,a.Squarespace.Models.ShoppingCart)}},useLightCart:{value:!1}}})},"1.0",{requires:"base node cookie squarespace-ss-widget squarespace-commerce-utils squarespace-animations squarespace-models-shopping-cart squarespace-pill-shopping-cart-template".split(" ")})},1329:function(m,n,g){YUI.add("squarespace-models-shopping-cart",
function(a){a.namespace("Squarespace.Models");a.namespace("Squarespace.Singletons");var e=a.Squarespace.Models.ShoppingCart=a.Base.create("shoppingCart",a.Model,[],{initializer:function(){this.publish("item-added",{emitFacade:!0});this.publish("loaded",{emitFacade:!0});this.publish("recalculate-start",{emitFacade:!0});this.publish("recalculate-end",{emitFacade:!0});this._isRecalculating=this._readInProgress=!1;this.on("recalculate-start",function(){this._isRecalculating=!0},this);this.on("recalculate-end",
function(){this._isRecalculating=!1},this)},toJSON:function(){var b=e.superclass.toJSON.call(this),c=b.created;a.Lang.isNull(c)||(b.created=c.getTime());return b},sync:function(a,c,d){switch(a){case "read":this._read(c,d)}},load:function(b,c,d){"function"===typeof b&&(c=b,b={});this._readinProgress?this.after("load",c,d):a.Model.prototype.load.call(this,b,c?a.bind(c,d||this):null)},isRecalculating:function(){return this._isRecalculating},hasEntry:function(b,c){return a.Array.reduce(this.get("entries"),
!1,function(d,f){return a.Lang.isValue(c)?d||f.itemId==b&&c.sku==f.chosenVariant.sku:d||f.itemId==b})},addEntry:function(b,c,d,f,h,k,e){a.Data.post({url:"/api/commerce/shopping-cart/entries"+(h?"?isExpress=true":""),headers:{"Content-Type":"application/json"},data:a.JSON.stringify({itemId:b,sku:a.Lang.isValue(c)?c.sku:null,quantity:d,additionalFields:a.JSON.stringify(f)}),success:function(b){a.Squarespace.CommerceAnalytics.itemAdded(b);this.setAttrs(b.shoppingCart);this.fire("item-added");a.Lang.isFunction(k)&&
k.call(e||this,null,b.newlyAdded)},failure:function(b){b.crumbFail&&(a.Squarespace.Utils.areCookiesEnabled()?b.error="Your session has expired. Please reload the page and try again.":b.error="Please enable cookies in your browser, reload the page, and try again.");a.Lang.isFunction(k)&&k.call(e||this,b.message,null)}},this)},updateFormSubmission:function(b,c,d,f){var h=b.chosenVariant;this.fire("recalculate-start");a.Data.put({headers:{"Content-Type":"application/json"},url:a.Lang.sub("/api/commerce/shopping-cart/entries/{entryId}/additionalFields",
{entryId:b.id}),data:a.JSON.stringify({itemId:b.itemId,sku:a.Lang.isValue(h)?h.sku:null,additionalFields:a.JSON.stringify(c)}),success:function(b){this.fire("recalculate-end");this.setAttrs(b.shoppingCart);a.Lang.isFunction(d)&&d.call(f||this,null,b.updatedEntry)},failure:function(b){this.fire("recalculate-end");a.Lang.isFunction(d)&&d.call(f||this,b.message,null)}},this)},updateQuantity:function(b,c,d,f){var h=b.chosenVariant;this.fire("recalculate-start");a.Data.put({headers:{"Content-Type":"application/json"},
url:a.Lang.sub("/api/commerce/shopping-cart/entries/{entryId}",{entryId:b.id}),data:a.JSON.stringify({itemId:b.itemId,sku:a.Lang.isValue(h)?h.sku:null,quantity:c}),success:function(b){this.fire("recalculate-end");0===c?a.Squarespace.CommerceAnalytics.itemRemoved(b):a.Squarespace.CommerceAnalytics.itemModified(b);this.setAttrs(b.shoppingCart);a.Lang.isFunction(d)&&d.call(f||this,null,b.updatedEntry)},failure:function(b){this.fire("recalculate-end");a.Lang.isFunction(d)&&d.call(f||this,b.message,null)}},
this)},updateShippingLocation:function(b,c,d){this.fire("recalculate-start");a.Data.put({url:"/api/commerce/shopping-cart/shipping-location",data:b,success:function(b){this.fire("recalculate-end");this.setAttrs(b);a.Lang.isFunction(c)&&c.call(d||this,null)},failure:function(b){this.fire("recalculate-end");a.Lang.isFunction(c)&&c.call(d||this,b.message,null)}},this)},updateShippingMethod:function(b,c,d){this.fire("recalculate-start");a.Data.put({url:"/api/commerce/shopping-cart/selected-shipping-option",
data:{shippingOptionId:b},success:function(b){this.fire("recalculate-end");this.setAttrs(b);a.Lang.isFunction(c)&&c.call(d||this,null)},failure:function(b){this.fire("recalculate-end");a.Lang.isFunction(c)&&c.call(d||this,b.message,null)}},this)},addCoupon:function(b,c,d){a.Data.post({url:"/api/commerce/shopping-cart/coupons",data:{promoCode:b},success:function(b){this.setAttrs(b);a.Lang.isFunction(c)&&c.call(d||this,null)},failure:function(b){a.Lang.isFunction(c)&&c.call(d||this,b.message,null)}},
this)},removeCoupon:function(b,c,d){a.Data.del({url:"/api/commerce/shopping-cart/coupons/"+b,success:function(b){this.setAttrs(b);a.Lang.isFunction(c)&&c.call(d||this,null)},failure:function(b){a.Lang.isFunction(c)&&c.call(d||this,b.message,null)}},this)},totalForItem:function(b,c){var d=a.Lang.isValue(c);return a.Array.reduce(this.get("entries"),0,function(a,h){return h.item.id===b&&(!d||d&&h.chosenVariant.sku===c.sku)?a+h.quantity:a})},_read:function(b,c){this._readInProgress=!0;this.fire("loading");
a.Data.get({url:"/api/commerce/shopping-cart",data:{mock:b.mock?"true":"false"},success:function(a){this.fire("loaded");this._readInProgress=!1;c(null,a)},failure:function(a){this.fire("loaded");this._readInProgress=!1;c(a.message,null)}},this)}},{ATTRS:{id:{validator:a.Lang.isString},websiteId:{validator:a.Lang.isString},orderId:{validator:a.Lang.isString},created:{getter:function(b){return a.Lang.isValue(b)?new Date(b):null},setter:function(b){return a.Lang.isDate(b)?b.getTime():b},validator:a.Lang.isNumber},
isPurchased:{value:!1,validator:a.Lang.isBoolean},entries:{value:[],validator:a.Lang.isArray},shippingOptions:{value:[],validator:a.Lang.isArray},selectedShippingOption:{validator:a.Lang.isObject},shippingLocation:{validator:a.Lang.isObject},applicableTaxRules:{value:[],validator:a.Lang.isArray},coupons:{value:[],validator:a.Lang.isArray},validCoupons:{value:[],validator:a.Lang.isArray},invalidCoupons:{value:[],validator:a.Lang.isArray},subtotalCents:{validator:a.Lang.isNumber,value:0},taxCents:{validator:a.Lang.isNumber,
value:0},shippingCostCents:{validator:a.Lang.isNumber,value:0},discountCents:{validator:a.Lang.isNumber,value:0},grandTotalCents:{validator:a.Lang.isNumber,value:0},totalQuantity:{validator:a.Lang.isNumber,value:0},hasDigital:{validator:a.Lang.isBoolean,value:!1},purelyDigital:{validator:a.Lang.isBoolean,value:!1},requiresShipping:{validator:a.Lang.isBoolean,value:!1}}});a.Squarespace.Singletons.ShoppingCart=new e},"1.0",{requires:["base","model","squarespace-commerce-utils","squarespace-commerce-analytics"]})},
1330:function(m,n,g){YUI.add("squarespace-commerce-analytics",function(a){var e=new a.Base.create("commerceTrack",a.Base,[],{itemViewed:function(a){this.fire("commerce-item-viewed",a)},itemAdded:function(a){this.fire("commerce-item-added",a)},itemRemoved:function(a){this.fire("commerce-item-removed",a)},itemModified:function(a){this.fire("commerce-item-modified",a)},checkoutStarted:function(a){this.fire("commerce-checkout-started",a)},checkoutConfirmed:function(a){this.fire("commerce-checkout-confirmed",
a)},contributionConfirmed:function(a){this.fire("commerce-contribution-confirmed",a)}},{ATTRS:{}});a.namespace("Squarespace");a.Squarespace.CommerceAnalytics=new e;var b=a.Base.create("commerceAnalytics",a.Base,[],{initializer:function(){this._events=[a.Squarespace.CommerceAnalytics.on("commerce-item-viewed",this._getProtectedTracker("onItemViewed"),this),a.Squarespace.CommerceAnalytics.on("commerce-item-added",this._getProtectedTracker("onItemAdded"),this),a.Squarespace.CommerceAnalytics.on("commerce-item-removed",
this._getProtectedTracker("onItemRemoved"),this),a.Squarespace.CommerceAnalytics.on("commerce-item-modified",this._getProtectedTracker("onItemModified"),this),a.Squarespace.CommerceAnalytics.on("commerce-checkout-started",this._getProtectedTracker("onCheckoutStarted"),this),a.Squarespace.CommerceAnalytics.on("commerce-checkout-confirmed",this._getProtectedTracker("onCheckoutConfirmed"),this),a.Squarespace.CommerceAnalytics.on("commerce-contribution-confirmed",this._getProtectedTracker("onContributionConfirmed"),
this)];this._setCartMode()},destructor:function(){a.Array.invoke(this._events,"detach")},_setCartMode:function(){var a=!0;try{a=Static.SQUARESPACE_CONTEXT.websiteSettings.storeSettings.testModeOn}catch(b){}this.cartMode=a?"test":"live"},_getProtectedTracker:function(a){return function(b){try{this[a].call(this,b)}catch(c){}}},onItemViewed:function(a){},onItemAdded:function(a){},onItemRemoved:function(a){},onItemModified:function(a){},onCheckoutStarted:function(a){},onCheckoutConfirmed:function(a){},
onContributionConfirmed:function(a){}},{ATTRS:{}}),e=a.Base.create("commerceAnalyticsInternal",b,[],{_createCartData:function(a){return{CartOrderId:a.id,CartSubtotal:a.subtotalCents/100,CartTax:a.taxCents/100,CartCurrency:"USD",CartMode:this.cartMode}},_createProductData:function(b){var c=b.productType;return{ProductId:b.itemId,ProductName:b.title,ProductType:c===a.Squarespace.ProductTypes.PHYSICAL?"PHYSICAL":c===a.Squarespace.ProductTypes.DIGITAL?"DIGITAL":"SERVICE",ProductSKU:b.chosenVariant?b.chosenVariant.sku:
"",ProductPrice:b.purchasePriceCents/100,ProductQuantity:b.quantity}},_getItemVariantPrice:function(b){return a.Object.hasKey(b,"onSale")&&b.onSale?(a.Object.hasKey(b,"salePrice")?b.salePrice:b.salePriceCents)/100:(a.Object.hasKey(b,"price")?b.price:b.priceCents)/100},_getItemPrice:function(b){var c=0;a.Object.hasKey(b,"variants")&&0<b.variants.length?(a.Array.each(b.variants,function(a){c+=this._getItemVariantPrice(a)},this),c/=b.variants.length):c=this._getItemVariantPrice(b);return c},_createItemData:function(a){return{ProductId:a.id,
ProductName:a.title}},_createItemAddedData:function(b){return a.merge(this._createCartData(b.shoppingCart),this._createProductData(b.newlyAdded))},_createItemRemovedData:function(b){return a.merge(this._createCartData(b.shoppingCart),this._createProductData(b.updatedEntry))},_createItemModifiedData:function(b){return a.merge(this._createCartData(b.shoppingCart),this._createProductData(b.updatedEntry))},_createItemCheckoutStartedData:function(b,c){return a.merge(this._createCartData(b),this._createProductData(c))},
_createItemCheckoutCompletedData:function(b,c){return a.merge(this._createCartData(b),this._createProductData(c))},_track:function(b,c){a.Squarespace.Analytics.trackInternal(b,c)},onItemViewed:function(a){}},{ATTRS:{}}),c=a.Base.create("commerceAnalyticsMixpanel",e,[],{_track:function(b,c){a.Squarespace.Analytics.track(b,c)},onItemViewed:function(a){this._track("shopper_product_viewed",this._createItemData(a))},onItemAdded:function(a){this._track("shopper_product_added",this._createItemAddedData(a))},
onItemRemoved:function(a){this._track("shopper_product_removed",this._createItemRemovedData(a))},onItemModified:function(a){this._track("shopper_product_modified",this._createItemModifiedData(a))},onCheckoutStarted:function(b){a.each(b.entries,function(a){this._track("shopper_product_checkout_started",this._createItemCheckoutStartedData(b,a))},this)},onCheckoutConfirmed:function(b){a.each(b.purchasedCart.entries,function(a){this._track("shopper_product_purchased",this._createItemCheckoutCompletedData(b.purchasedCart,
a))},this);this._track("shopper_order_submitted",{CartOrderId:b.purchasedCart.id,CartCurrency:"USD",CartGrandTotal:b.purchasedCart.grandTotalCents/100,CartSubtotal:b.purchasedCart.subtotalCents/100,CartTax:b.purchasedCart.taxCents/100,CartShipping:b.purchasedCart.shippingCostCents/100,CartTotalQuantity:b.purchasedCart.totalQuantity,CartMode:this.cartMode})},onContributionConfirmed:function(a){this._track("donation_submitted",{Currency:"USD",Total:a.amountCents/100,CartMode:this.cartMode})}},{ATTRS:{}}),
b=a.Base.create("commerceAnalyticsGoogle",b,[],{onCheckoutConfirmed:function(b){_gaq&&(_gaq.push(["_addTrans",b.id,"",b.purchasedCart.subtotalCents/100,b.purchasedCart.taxCents/100,b.purchasedCart.shippingCostCents/100,b.customer.billingAddress.city,b.customer.billingAddress.state,b.customer.billingAddress.country]),a.each(b.purchasedCart.entries,function(a){_gaq.push(["_addItem",b.id,a.chosenVariant?a.chosenVariant.sku:"digital",a.title,"",a.purchasePriceCents/100,a.quantity])}),_gaq.push(["_trackTrans"]))}},
{ATTRS:{}});new e;new c;new b;a.Lang.isObject(Static)&&a.Object.hasKey(Static,"SQUARESPACE_CONTEXT")&&a.Object.hasKey(Static.SQUARESPACE_CONTEXT,"item")&&Static.SQUARESPACE_CONTEXT.item.recordType===a.Squarespace.RecordType.STORE_ITEM&&a.Squarespace.CommerceAnalytics.itemViewed(Static.SQUARESPACE_CONTEXT.item)},"1.0",{requires:["event-custom","node","base","squarespace-enum","squarespace-util"]})},1331:function(m,n,g){YUI.add("squarespace-template-integrated-shopping-cart",function(a){a.namespace("Squarespace.Widgets");
var e=a.Squarespace.Widgets.TemplateIntegratedShoppingCart=a.Base.create("templateIntegratedShoppingCart",a.Widget,[],{bindUI:function(){e.superclass.bindUI.call(this);this.get("model").on("change",this.syncUI,this)},syncUI:function(){e.superclass.syncUI.call(this);var b=this.get("quantityEl"),c=this.get("subtotalEl"),d=this.get("model"),f=d.get("totalQuantity"),d=d.get("subtotalCents");a.Lang.isValue(b)&&b.setContent(100<f?"100+":f);a.Lang.isValue(c)&&c.setContent(a.Squarespace.Commerce.moneyString(d))}},
{CSS_PREFIX:"sqs-template-integrated-shopping-cart",HTML_PARSER:{quantityEl:".sqs-cart-quantity",subtotalEl:".sqs-cart-subtotal"},ATTRS:{quantityEl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNode,writeOnce:"initOnly"},subtotalEl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNode,writeOnce:"initOnly"},model:{value:null,validator:function(b){return a.instanceOf(b,a.Squarespace.Models.ShoppingCart)}}}})},"1.0",{requires:"base node widget squarespace-attr-validators squarespace-commerce-utils squarespace-models-shopping-cart".split(" ")})},
1332:function(m,n,g){YUI.add("squarespace-full-page-shopping-cart",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.FullPageShoppingCart=a.Base.create("fullPageShoppingCart",a.Squarespace.Widgets.TableShoppingCart,[],{renderUI:function(){e.superclass.renderUI.call(this);this._spinner=new a.Squarespace.Spinner({render:this.get("contentBox").one(".loading-spinner"),size:50,color:"dark"})},bindUI:function(){e.superclass.bindUI.call(this);var b=this.get("model");this.get("contentBox").one(".checkout-button").on("click",
a.Squarespace.Commerce.goToCheckoutPage,this);b.on("recalculate-start",this._setLoadingState,this);b.on("recalculate-end",this._setLoadedState,this)},_setLoadingState:function(){var a=this.get("contentBox");a.all("input").setAttribute("disabled",!0);a.addClass("loading-cart")},_setLoadedState:function(){var b=this.get("contentBox");a.later(350,this,function(){b.all("input").removeAttribute("disabled");b.removeClass("loading-cart")})}},{CSS_PREFIX:"sqs-fullpage-shopping-cart",HANDLEBARS_TEMPLATE:"full-page-shopping-cart.html",
HANDLEBARS_ITEM_TEMPLATE:"full-page-shopping-cart-item.html"})},"1.0",{requires:"base node cookie squarespace-commerce-utils squarespace-table-shopping-cart squarespace-full-page-shopping-cart-template squarespace-full-page-shopping-cart-item-template squarespace-spinner".split(" ")})},1333:function(m,n,g){YUI.add("squarespace-table-shopping-cart",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.TableShoppingCart=a.Base.create("tableShoppingCart",a.Squarespace.Widgets.SSWidget,
[],{initializer:function(){this._getAdditionalFieldsFormTemplateSchema(function(a){this._additionalFieldsFormTemplate=a},this);this._additionalFieldsModalLightbox=new a.Squarespace.Widgets.ModalLightbox;this._formWidget=null},destructor:function(){this._additionalFieldsModalLightbox.destroy();this._formWidget&&this._formWidget.destroy()},renderUI:function(){e.superclass.renderUI.call(this);this._additionalFieldsModalLightbox.render(a.one("body"))},bindUI:function(){e.superclass.bindUI.call(this);
this.get("model").on("change",this.syncUI,this);var b=this.get("contentBox");b.delegate("click",function(a){b.hasClass("loading-cart")||this._removeEntryRow(a.target.ancestor("tr"))},".remove-item",this);b.delegate("click",function(a){a.target.select()},".quantity input",this);var c=0,d;b.delegate("valuechange",function(b){var h=b.target.get("parentNode");c+=1300;d&&d.stop();h.one("input").setStyle("opacity",0.3);setTimeout(a.bind(function(){d=new a.Anim({node:h.one("input"),to:{opacity:1},easing:a.Easing.easeOutSine,
duration:0.5});d.run();setTimeout(a.bind(function(){c-=1300;0===c&&this._onQuantityChange(b)},this),1E3)},this),300)},".quantity input",this);b.delegate("click",this._onAdditionalFieldsEdit,".additional-fields",this);this._additionalFieldsModalLightbox.on("close",function(){this._formWidget&&this._formWidget.destroy()},this)},syncUI:function(){e.superclass.syncUI.call(this);var b=this.get("model"),c=this.get("contentBox");c.one(".subtotal .price").setContent(a.Squarespace.Commerce.moneyString(b.get("subtotalCents")));
c.one("tbody").empty();0===b.get("totalQuantity")?c.addClass("empty"):(c.removeClass("empty"),a.Array.each(b.get("entries"),function(a){0<a.quantity&&this._appendEntryRow(a)},this),this._focusedInputItemId&&(b=this._getEntryRowByItemId(this._focusedInputItemId))&&b.one(".quantity input").focus());c.all(".cooldown").addClass("hidden")},showError:function(b,c){new a.Squarespace.Widgets.Alert({"strings.title":b,"strings.message":c})},_appendEntryRow:function(b){var c=b.item,d=c.items,f=c.structuredContent.productType,
h=f===a.Squarespace.ProductTypes.PHYSICAL,k=b.chosenVariant,e=a.Lang.isValue(k),l=a.Squarespace.UITemplates.renderAsNodeOrDocFrag(this.getProperty("HANDLEBARS_ITEM_TEMPLATE"),{isPhysicalProduct:h});l.setData("entry",b);l.setAttribute("data-item-id",c.id);e&&l.setAttribute("data-chosen-variant-sku",k.sku);c=l.one(".item-image");d=a.Lang.isValue(d)&&0<d.length?d[0].assetUrl.replace("http://","https://")+"?format=100w":"/universal/images-v6/configuration/no-image.png";c.append('<img src="'+d+'" />');
d=l.one(".item-desc");c=this.get("linkItems")?'<a href="'+b.item.fullUrl+'">'+b.item.title+"</a>":"<div>"+b.item.title+"</div>";d.append(c);var q;e?q='<div class="variant-info">'+a.Squarespace.Commerce.variantFormat(k)+"</div>":f===a.Squarespace.ProductTypes.DIGITAL&&(q='<div class="variant-info">Digital Download</div>');q&&d.append(q);b.additionalFields&&d.append('<div class="additional-fields"><a>Edit Details</a></div>');f=b.quantity;h&&(h=l.one(".quantity input"),h.setAttrs({maxlength:4,size:String(f).length,
value:f}),h.plug(a.Squarespace.Plugin.IntegerRestrictor));l.one(".price").setContent(a.Squarespace.Commerce.moneyString(f*b.purchasePriceCents));this.get("contentBox").one("tbody").append(l)},_removeEntryRow:function(b){b.plug(a.Squarespace.Animations.Fadeable,{duration:0.25});b.once("hidden",function(){this._updateEntryQuantity(b.getData("entry"),0)},this);b.hide()},_getEntryRowByItemId:function(a){var c;this.get("contentBox").all("tbody tr").each(function(d){d.getData("entry").itemId===a&&(c=d)},
this);return c},_onQuantityChange:function(b){var c=b.target;b=c.get("value");var d=c.ancestor("tr"),f=d.getData("entry"),h=Number(b),k=f.quantity;this._focusedInputItemId=f.itemId;""===b||h===k||(0===h?(b=new a.Squarespace.Widgets.Confirmation({"strings.title":"Remove Item","strings.message":"You have set this item's quantity to 0. This will remove it from your cart. Would you like to continue?"}),b.on("confirm",function(){this._removeEntryRow(d)},this),b.on("cancel",function(){c.set("value",k)},
this)):this._updateEntryQuantity(f,h,k,c))},_onAdditionalFieldsEdit:function(b){if(this._additionalFieldsFormTemplate&&!this.get("contentBox").hasClass("loading-cart")){var c=b.target.ancestor("tr").getData("entry");b=c.item.structuredContent.additionalFieldsForm;var d=this._formWidget=new a.Squarespace.Widgets.AsyncForm({form:b,formTemplate:this._additionalFieldsFormTemplate,formSubmitButtonText:"Save",formData:a.JSON.parse(c.additionalFields),formName:b.name,showTitle:!0});d.on("submission",function(a){d.setStateSaving();
this.get("model").updateFormSubmission(c,a.data,function(a,b){d.setStateEditing();this._additionalFieldsModalLightbox.close()},this)},this);this._additionalFieldsModalLightbox.set("content",d);this._additionalFieldsModalLightbox.open()}},_updateEntryQuantity:function(a,c,d,f){this.get("model").updateQuantity(a,c,function(a){a&&(this.showError("Unable to Update Quantity",a),f&&f.inDoc()&&f.set("value",d))},this)},_getAdditionalFieldsFormTemplateSchema:function(b,c){a.Data.get({url:"/api/template/GetTemplateSchema",
data:{componentType:"widget",type:a.Squarespace.BlockType.FORM},success:function(a){b.call(c||this,a)}},this)}},{ATTRS:{model:{value:null,validator:function(b){return a.instanceOf(b,a.Squarespace.Models.ShoppingCart)}},linkItems:{value:!1}}})},"1.0",{requires:"base node anim squarespace-enum squarespace-animations squarespace-commerce-utils squarespace-ui-base squarespace-ui-templates squarespace-models-shopping-cart squarespace-plugin-integer-restrictor squarespace-modal-lightbox squarespace-async-form squarespace-widgets-alert squarespace-widgets-confirmation".split(" ")})},
1334:function(m,n,g){YUI.add("squarespace-plugin-integer-restrictor",function(a){a.namespace("Squarespace.Plugin");a.Squarespace.Plugin.IntegerRestrictor=a.Base.create("integerRestrictor",a.Plugin.Base,[],{initializer:function(){this.get("host").on("keydown",function(a){var b=a.keyCode;-1!==[9,13,8,46,37,39].indexOf(b)||(48<=b&&57>=b||96<=b&&105>=b)||a.halt(!0)},this)}},{NS:"integerRestrictorPlugin"})},"1.0",{requires:["base","plugin","squarespace-ui-base"]})},1335:function(m,n,g){YUI.add("squarespace-cart-utils",
function(a){var e,b,c;a.namespace("Squarespace.CartUtils");a.Squarespace.CartUtils={initializeAddToCartButtons:function(){var b=a.Squarespace.Commerce.isExpressCheckout(),f=!1;a.all(".sqs-add-to-cart-button").each(function(c){var k=c.one(".sqs-add-to-cart-button-inner");k.plug(a.Squarespace.Animations.Scalable,{duration:0.2});b&&"Add To Cart"===c.getData("original-label")&&(k.setContent("Purchase"),c.setData("original-label","Purchase"));c.hasClass("use-form")&&(f=!0)},this);f&&!c&&a.Squarespace.CartUtils._getAdditionalFieldsFormTemplateSchema(function(a){c=
a},this);e||(e=a.one("body").delegate("click",a.Squarespace.CartUtils._addCartEntry,".sqs-add-to-cart-button",this))},initializeSuperbowlBuyButtons:function(){a.Lang.isValue(a.one(".sqs-superbowl-buy-button"))&&(console.log("initializing superbowl buttons"),a.all(".sqs-superbowl-buy-button").each(function(a){var b=a.getAttribute("data-productId");a.on("click",function(){window.location="https://"+Static.SQUARESPACE_CONTEXT.website.identifier+"."+Static.SQUARESPACE_CONTEXT.appDomain+"/commerce/checkouts?productId="+
b})}))},_addCartEntry:function(b){var c=b.currentTarget;if(!c.get("parentNode").hasClass("cart-added")){var h=function(b){new a.Squarespace.Widgets.Alert({"strings.title":"Unable to "+(a.Squarespace.Commerce.isExpressCheckout()?"Purchase":"Add")+" Item","strings.message":b})};b=function(a){var b="Please select the ",c=a.length;if(1==c)b+=a[0]+" option.";else if(2==c)b+=a[0]+" and "+a[1]+" options.";else for(var d=0;d<c;d++)b=d==c-1?b+("and "+a[d]+" options."):b+(a[d]+", ");return b};var k=c.getAttribute("data-item-id"),
e,l,q=a.one(c.get("parentNode").siblings(".product-variants").item(0));if(a.Lang.isValue(q)){var g=JSON.parse(q.getAttribute("data-unselected-options")),t=g.length,s=q.getAttribute("data-selected-variant"),q=q.getAttribute("data-variant-in-stock"),s=s?JSON.parse(s):null,q=q?!0:!1;if(0<t){h(b(g));return}if(s)if(q)e=s;else{h("Sorry, we do not have enough of that item available.");return}else{h("Sorry, that item variant is unavailable. Please select another variant.");return}}if(b=c.get("parentNode").siblings(".product-quantity-input").item(0))if(l=
a.one(b).one("input").get("value"),!a.Lang.isNumber(Number(l))){h("Quantity must be a number.");return}c.hasClass("use-form")?this._verifyItemInStock({itemId:k,variant:e,inStockCb:a.bind(function(){a.Squarespace.CartUtils._openAdditionalFieldsForm(c,function(b){a.Squarespace.CartUtils._goToCheckoutOrAddToCart(c,k,e,l,b,h)},this)},this),outOfStockCb:function(){h("Sorry, we do not have enough of that item available.")}}):a.Squarespace.CartUtils._goToCheckoutOrAddToCart(c,k,e,l,null,h)}},_verifyItemInStock:function(b){var c=
a.Squarespace.Singletons.ShoppingCart;a.Data.get({url:a.Squarespace.API_ROOT+"commerce/inventory/stock/",data:{itemId:b.itemId},success:function(h){a.Array.some(h.results,function(a){return a.unlimited?!0:a.qtyInStock>c.totalForItem(b.itemId,b.variant)})?b.inStockCb():b.outOfStockCb()}})},_goToCheckoutOrAddToCart:function(b,c,h,k,e,l){a.Squarespace.CartUtils._setButtonStateAdding(b);if(a.Lang.isValue(k)&&0!==k%1)l("Quantity must be a whole number"),a.Squarespace.CartUtils._setButtonStateIdle(b);else{var q=
a.Squarespace.Commerce.isExpressCheckout();a.Squarespace.Singletons.ShoppingCart.addEntry(c,h,k,e,q,function(c){b.one(".sqs-add-to-cart-button-inner");c?(l(c),a.later(1E3,this,function(){a.Squarespace.CartUtils._setButtonStateIdle(b)})):a.Squarespace.Commerce.isExpressCheckout()?a.Squarespace.Commerce.goToCheckoutPage():a.later(1E3,this,function(){a.Squarespace.CartUtils._setButtonStateAdded(b);a.later(2E3,this,function(){a.Squarespace.CartUtils._setButtonStateIdle(b)})})},this)}},_setButtonStateAdding:function(b){var c=
b.one(".sqs-add-to-cart-button-inner");c.once("hidden",function(){c.empty();b.addClass("cart-adding");(new a.Squarespace.Spinner({size:20,color:"light",render:c})).spin();c.append('<div class="status-text">Adding...</div>');c.show()},this);c.hide()},_setButtonStateAdded:function(a){var b=a.one(".sqs-add-to-cart-button-inner");b.empty();a.addClass("cart-added");b.append('<div class="status-text">Added!</div>')},_setButtonStateIdle:function(a){var b=a.one(".sqs-add-to-cart-button-inner");b.once("hidden",
function(){b.empty();a.removeClass("cart-adding");a.removeClass("cart-added");b.setContent(a.getData("original-label"));b.show()},this);b.hide()},_openAdditionalFieldsForm:function(d,f,h){b||(b=new a.Squarespace.Widgets.ModalLightbox({render:a.one("body")}));var k=a.JSON.parse(d.getData("form")),e=new a.Squarespace.Widgets.AsyncForm({form:k,formTemplate:c,formSubmitButtonText:d.getData("original-label"),formName:k.name,showTitle:!0});e.on("submission",function(a){f&&f.call(h||this,a.data);b.close()},
this);b.set("content",e);b.once("close",function(){e.destroy()},this);b.open()},_getAdditionalFieldsFormTemplateSchema:function(b,c){a.Data.get({url:"/api/template/GetTemplateSchema",data:{componentType:"widget",type:a.Squarespace.BlockType.FORM},success:function(a){b.call(c||this,a)}},this)}}},"1.0",{requires:"base node json squarespace-enum squarespace-commerce-utils squarespace-modal-lightbox squarespace-async-form squarespace-animations squarespace-spinner squarespace-widgets-alert".split(" ")})},
1336:function(m,n,g){YUI.add("squarespace-donate-form",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.DonateForm=a.Base.create("DonateForm",a.Squarespace.Widgets.SSWidget,[],{initializer:function(){var b=this.get("donatePage");this._contributionSection=new a.Squarespace.Widgets.ContributionSummary({donatePage:b,state:"editing"});this._contactSection=new a.Squarespace.Widgets.CheckoutFormContactInfo({enableMailingListOptInByDefault:this.get("enableMailingListOptInByDefault"),
optionalFields:this.get("optionalFields"),state:"incomplete"});this._customFormSection=new a.Squarespace.Widgets.CheckoutCustomForm({state:"incomplete",customForm:b.customForm,formId:b.customFormId});this._paymentSection=new a.Squarespace.Widgets.CheckoutFormPayment({strings:{submitText:b.buttonLabel,pendingText:"Submitting ..."},state:"incomplete",optionalHiddenFields:["donationAmountCents","donatePageId","email","phone","joinMailingList"],inTestMode:this.get("inTestMode"),countriesAllowed:a.Squarespace.Localities.getAllCountryNames()});
this.formSubmitted=!1},destructor:function(){this._contributionSection.destroy(!0);this._contributionSection=null;this._contactSection.destroy(!0);this._contactSection=null;this._customFormSection.destroy(!0);this._customFormSection=null;this._paymentSection.destroy(!0);this._paymentSection=null},renderUI:function(){e.superclass.renderUI.call(this);var b;b=a.Data.addCrumb("/commerce/submit-donation");b=a.Node.create('<form action="'+b+'" method="POST"></form>');b.append(a.Node.create('<input type="hidden" name="customFormSubmission" />'));
this._contributionSection.render(a.one("#summary-wrapper"));this._contactSection.render(a.one("#summary-wrapper"));this._customFormSection.render(a.one("#summary-wrapper"));this._paymentSection.render(b);this._customFormSection.setStateIncomplete();this._paymentSection.setStateIncomplete();this.get("contentBox").append(b)},bindUI:function(){e.superclass.bindUI.call(this);var a=this._contributionSection,c=this._contactSection,d=this._customFormSection,f=this._paymentSection;a.on("continue",function(){a.setStateComplete();
c.setStateEditing()});a.on("edit",function(){a.setStateEditing();c.setStateIncomplete();d.setStateIncomplete();f.setStateIncomplete()});c.on("edit",function(){c.setStateEditing();d.setStateIncomplete();f.setStateIncomplete()});c.on("continue",function(){c.setStateComplete();this._hasCustomForm()?d.setStateEditing():f.setStateEditing()},this);d.on("continue",function(){d.setStateComplete();f.setStateEditing()});d.on("edit",function(){d.setStateEditing();f.setStateIncomplete()});f.on("continue",this._submit,
this)},lock:function(){var a=this.get("contentBox");this.fire("lock");a.addClass("submitting");this._paymentSection.lock()},unlock:function(){var a=this.get("contentBox");this.fire("unlock");a.removeClass("submitting");this._paymentSection.unlock()},_hasCustomForm:function(){var b=this.get("donatePage").customForm;return!a.Lang.isValue(b)?!1:0<b.fields.length},_submit:function(){var b=this.get("donatePage"),c=a.bind(function(b){b=this._paymentSection.getCreditCardValues();var c=this._paymentSection.getValues();
Stripe.createToken({number:b.cardNumber,cvc:b.cvc,exp_month:b.cardExpiryMonth,exp_year:b.cardExpiryYear,name:c.cardHolderName,address_line1:c.billingAddress1,address_line2:c.billingAddress2,address_state:c.billingState,address_city:c.billingCity,address_country:c.billingCountry,address_zip:c.billingZip},a.bind(this._stripeResponseHandler,this))},this);this._validateSubmit().then(a.bind(function(d){if(d)if(this.lock(),!0===b.queuedSubmitEnabled){var f=new a.Squarespace.TokenQueue;f.on("estimatedWaitChanged",
function(){this._showCountdown(f.estimatedTime)},this);f.waitInQueue().then(a.bind(c,this))}else c()},this))},_showCountdown:function(b){if(!(5>=b)){this._paymentSection.showQueueExplanation();var c=setInterval(a.bind(function(){0>=b&&clearInterval(c);b--;this._paymentSection.updateButton(b)},this),1E3)}},_validateSubmit:function(){return new a.Promise(a.bind(function(b){this._contributionSection.validate()||b(!1);this._paymentSection.validate().then(a.bind(function(c){0<c.length&&(this._paymentSection.renderErrors(c),
b(!1));50>this._contributionSection.getDonationAmountCents()&&(new a.Squarespace.Widgets.Alert({"strings.title":"Cannot Complete Donation","strings.message":"Your contribution must be at least "+a.Squarespace.Commerce.currencySymbol()+"0.50 to continue."}),b(!1));Static.SQUARESPACE_CONTEXT.websiteSettings.storeSettings.storeState===a.Squarespace.StoreStates.NOT_CONNECTED&&(new a.Squarespace.Widgets.Alert({"strings.title":"Payments Not Connected","strings.message":"This site has not connected a payment gateway. Transactions are disabled and you cannot complete this donation."}),
b(!1));b(!0)},this))},this))},_stripeResponseHandler:function(a,c){var d=c.error,f=this.get("contentBox").one("form"),h=this._contributionSection;if(d)this.unlock(),f=this._paymentSection,f.renderErrors([{type:f.getProperty("FIELD_ERROR_TYPES").STRIPE,message:d.message}]);else{var d=this._contactSection.getValues(),k=this._paymentSection.getValues();this._paymentSection.setHiddenValues({stripeToken:c.id,cardHolderName:k.cardHolderName,donationAmountCents:h.getDonationAmountCents(),email:d.email,joinMailingList:"on"==
d.joinMailingList?!0:!1,phone:d.phone,donatePageId:this.get("donatePage").id});h=this._customFormSection.getCustomFormSubmission();f.one('input[name="customFormSubmission"]').set("value",JSON.stringify(h));this._submitForm()}},_submitForm:function(){var a=this.get("contentBox").one("form");!1===this.formSubmitted&&(this.formSubmitted=!0,a.submit())}},{CSS_PREFIX:"sqs-checkout-form",ATTRS:{countriesAllowed:{value:[]},optionalFields:{value:null},donatePage:{value:null},inTestMode:{value:!1},enableMailingListOptInByDefault:{validator:a.Squarespace.AttrValidators.isBoolean,
value:!0}}})},"1.0",{requires:"base node squarespace-attr-validators squarespace-ss-widget squarespace-util squarespace-commerce-utils squarespace-ui-base squarespace-checkout-form-custom-form squarespace-checkout-form-shipping-info squarespace-checkout-form-payment squarespace-contribution-summary squarespace-widgets-alert".split(" ")})},1337:function(m,n,g){YUI.add("squarespace-checkout-form-custom-form",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.CheckoutCustomForm=
a.Base.create("CheckoutCustomForm",a.Squarespace.Widgets.CheckoutFormSection,[],{renderUI:function(){e.superclass.renderUI.call(this);var b=this.get("contentBox");a.Data.get({url:"/api/template/GetTemplateSchema",data:{componentType:"widget",type:a.Squarespace.BlockType.FORM},success:function(c){this._formWidget=new a.Squarespace.Widgets.AsyncForm({form:this.get("customForm"),formTemplate:c,formSubmitButtonText:"Submit",hideSubmitButton:!0,showTitle:!1});this._formWidget.render(b.one(".custom-form"))}},
this)},syncUI:function(){e.superclass.syncUI.call(this);this.get("boundingBox").toggleClass("no-form",0===this.get("customForm").fields.length)},_renderSavedFieldset:function(b){var c=this.getProperty("HANDLEBARS_SAVED_FIELDSET_TEMPLATE"),d=this.get("formId");this._formWidget.fetchValidatedFormSubmission(d,a.bind(function(d){var h=[];a.Object.each(d,function(b,c){h.push(a.Squarespace.Commerce.summaryFormFieldString(b))});this.get("contentBox").append(a.Squarespace.UITemplates.render(c,{fields:h}));
b.call(this)},this))},_getLocalErrors:function(){return[]},_fetchAsyncValidatedErrors:function(){return new a.Promise(a.bind(function(b){this._formWidget.fetchValidatedFormSubmission(this.get("formId"),function(){b([])},a.bind(function(c){var d=a.Array.map(a.Object.keys(c.errors),function(a){return{type:this.getProperty("FIELD_ERROR_TYPES").FORM_FIELD,fieldId:a,message:c.errors[a]}},this);d.push({type:this.getProperty("FIELD_ERROR_TYPES").CUSTOM,message:"Your form has encountered a problem. Please scroll up to review."});
d.push({type:this.getProperty("FIELD_ERROR_TYPES").HEADER,message:"Your form has encountered a problem. Please scroll down to review."});b(d)},this))},this))},getCustomFormSubmission:function(){return a.Lang.isValue(this._formWidget)?this._formWidget.getFormData():null}},{CSS_PREFIX:"sqs-checkout-form-custom-form",HANDLEBARS_TEMPLATE:"checkout-form-custom-form.html",HANDLEBARS_SAVED_FIELDSET_TEMPLATE:"checkout-saved-custom-form.html",ATTRS:{"strings.name":{value:"More"},customForm:{value:{fields:[]},
validator:a.Lang.isValue},formId:{value:null}}})},"1.0",{requires:"base node squarespace-localities squarespace-util squarespace-checkout-form-section squarespace-checkout-saved-custom-form-template squarespace-checkout-form-custom-form-template squarespace-mixins-google-places-autocomplete".split(" ")})},1338:function(m,n,g){YUI.add("squarespace-checkout-form-section",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.CheckoutFormSection=a.Base.create("checkoutFormSection",
a.Squarespace.Widgets.SSWidget,[],{initializer:function(){this.publish("continue-clicked",{preventable:!0,defaultFn:this._onContinue})},renderUI:function(){e.superclass.renderUI.call(this);Modernizr&&!Modernizr.input.placeholder&&this.get("boundingBox").addClass("show-labels");this.get("contentBox").all(".field-element").plug(a.Squarespace.Plugin.PulseWarn,{iterations:1,useClass:!0,targetClass:"warn",interval:1300});switch(this.get("state")){case "editing":this.setStateEditing();break;case "complete":this.setStateComplete();
break;case "incomplete":this.setStateIncomplete()}},bindUI:function(){e.superclass.bindUI.call(this);if(a.Lang.isValue(this.get("model")))this.get("model").on("change",this.syncUI,this);var b=this.get("contentBox");b.one(".continue-button").on("click",function(){this.fire("continue-clicked")},this);b.one(".edit-button").on("click",this._onEdit,this)},setStateEditing:function(){var a=this.get("boundingBox");this._removeSaved();a.removeClass("complete");a.removeClass("incomplete");a.addClass("editing");
this.set("state","editing")},setStateComplete:function(){var a=this.get("contentBox").one(".saved-fieldset");a&&a.remove(!0);this._renderSavedFieldset(function(){var a=this.get("boundingBox");a.removeClass("editing");a.removeClass("incomplete");a.addClass("complete");this.set("state","complete")})},_renderSavedFieldset:function(b){var c=this.getProperty("HANDLEBARS_SAVED_FIELDSET_TEMPLATE");c&&this.get("contentBox").append(a.Squarespace.UITemplates.render(c,this.getValues()));a.Lang.isValue(b)&&b.call(this)},
setStateIncomplete:function(){var a=this.get("boundingBox");this._removeSaved();this._clearErrors();a.removeClass("editing");a.removeClass("complete");a.addClass("incomplete");this.set("state","incomplete")},getValues:function(){var a={};this.get("contentBox").all(".field").each(function(c){c=c.one(".field-element");var d=c.get("value").trim();""===d&&(d=null);a[c.get("name")]=d},this);return a},setValues:function(b){this.get("contentBox").all(".field-element").each(function(c){var d=c.get("name");
a.Object.hasKey(b,d)&&this._setFieldValue(c,b[d])},this)},_setFieldValue:function(b,c){if("select-one"===b.get("type")){var d=b.one('option[value="'+c+'"]');a.Lang.isValue(d)&&d.set("selected",!0)}else b.set("value",c)},renderErrors:function(b){this._clearErrors();var c=[],d=[],f=[],h=[],k=[],e=[];a.Array.each(b,function(a){var b=this.getProperty("FIELD_ERROR_TYPES"),u=a.type,l=a.field;l&&this._renderFieldError(l);u===b.REQUIRED?c.push(l.getData("label")):u===b.VALIDATION?d.push(l.getData("label")):
u===b.STRIPE?f.push(a.message):u===b.CUSTOM?h.push(a.message):u===b.FORM_FIELD?k.push(a):u===b.HEADER&&e.push(a)},this);var l=b="",q="",g="";0<c.length&&(b=a.Array.dedupe(c).join(", ")+" required. ");0<d.length&&(l=a.Array.dedupe(d).join(", ")+" invalid.");0<f.length&&(q=a.Array.dedupe(f).join(". "));0<h.length&&(g=a.Array.dedupe(h).join(". "));b=a.Node.create('<div class="error-summary">'+b+l+q+g+"</div>");this.get("contentBox").one(".button").insert(b,"before");a.Array.each(k,function(b){a.one("#"+
b.fieldId).addClass("error").insert('<div class="form-field-error">'+b.message+"</div>",0)});a.Array.each(e,function(a){this.get("contentBox").one(".custom-form").insert('<div class="header-error">'+a.message+"</div>",0)},this)},_onContinue:function(){this.validate().then(a.bind(function(a){0<a.length?this.renderErrors(a):(this._clearErrors(),this.fire("continue"))},this))},_onEdit:function(){this.fire("edit")},_fetchAsyncValidatedErrors:function(){return new a.Promise(function(a){a([])})},_getLocalErrors:function(){var a=
[];this.get("contentBox").all(".field").each(function(c){c.hasClass("required")&&(c=this._validateField(c))&&a.push(c)},this);return a},validate:function(){var b=this._getLocalErrors();return new a.Promise(a.bind(function(c){this._fetchAsyncValidatedErrors().then(a.bind(function(a){a=b.concat(a);c(a)},this))},this))},_validateField:function(a){var c=a.one(".field-element");c.get("name");if(""===c.get("value").trim())return{type:this.getProperty("FIELD_ERROR_TYPES").REQUIRED,field:a}},_clearErrors:function(){var a=
this.get("contentBox");a.all(".error-summary, .form-field-error, .header-error").remove(!0);a.all(".field, .form-item").removeClass("error")},_renderFieldError:function(a){var c=a.one(".field-element");c.pulseWarn.warn();a.addClass("error");c.once(["click","change","focus"],function(){a.removeClass("error")},this)},_removeSaved:function(){var a=this.get("contentBox").one(".saved-fieldset");a&&a.remove(!0)}},{CSS_PREFIX:"sqs-checkout-form-section card",FIELD_ERROR_TYPES:{REQUIRED:1,VALIDATION:2,STRIPE:3,
CUSTOM:4,FORM_FIELD:5,HEADER:6},ATTRS:{model:{value:null},state:{value:"incomplete"}}})},"1.0",{requires:"node base thirdparty-modernizr squarespace-ss-widget squarespace-ui-templates squarespace-plugin-pulsewarn".split(" ")})},1339:function(m,n,g){YUI.add("squarespace-checkout-form-shipping-info",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.CheckoutFormShippingInfo=a.Base.create("checkoutFormShipping",a.Squarespace.Widgets.CheckoutFormAddress,[],{_onContinue:function(){if(this.get("model").isRecalculating())return!1;
e.superclass._onContinue.call(this)},getValues:function(){var a=e.superclass.getValues.call(this);a.requiresShipping=this.get("model").get("requiresShipping");return a},setValues:function(b){e.superclass.setValues.call(this,b);a.Object.hasKey(b,"selectedShippingOption")&&this._shippingOptionsWidget.setSelectedOption(b.selectedShippingOption)},getLocationForShipping:function(){var a=this.getValues();return{country:a.shippingCountry,state:a.shippingState,zip:a.shippingZip}},_populateFieldsFromAc:function(a){this.setValues({shippingAddress1:a.address,
shippingCountry:a.country,shippingCity:a.city,shippingState:a.state,shippingZip:a.zip})}},{CSS_PREFIX:"sqs-checkout-form-shipping-info",HANDLEBARS_TEMPLATE:"checkout-form-shipping-info.html",HANDLEBARS_SAVED_FIELDSET_TEMPLATE:"checkout-saved-shipping-info.html",ATTRS:{useAddressForShipping:{value:!0},optionalFields:{value:{showMailingList:!0}},enableMailingListOptInByDefault:{validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",{requires:"base node squarespace-checkout-form-address squarespace-models-shopping-cart squarespace-hb-money-string squarespace-shipping-options-list squarespace-checkout-form-shipping-info-template squarespace-checkout-saved-shipping-info-template".split(" ")})},
1340:function(m,n,g){YUI.add("squarespace-checkout-form-address",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Localities,b=e.COUNTRY_OPTIONS.US,c=e.COUNTRY_OPTIONS.CA,d=a.Squarespace.Widgets.CheckoutFormAddress=a.Base.create("checkoutFormAddress",a.Squarespace.Widgets.CheckoutFormSection,[],{renderUI:function(){d.superclass.renderUI.call(this);try{this._autoComplete=new a.Squarespace.Widgets.GooglePlacesAutocomplete({inputNode:this.get("contentBox").one("input.address-line1"),
render:!0,countriesAllowed:this.get("countriesAllowed")})}catch(b){console.error(b)}},bindUI:function(){d.superclass.bindUI.call(this);this._bindUseAddressForShippingChange();this._bindZipChange();this._bindCountryChange();this._bindStateChange();try{this._bindGoogleAutoComplete()}catch(a){console.error(a)}},syncUI:function(){d.superclass.syncUI.call(this);this._populateCountrySelect();this._updateStateFieldForSelectedCountry();this._syncRequiredFieldsForSelectedCountry()},setValues:function(a){d.superclass.setValues.call(this,
a);this.get("useAddressForShipping")&&this.fire("shippingLocationChange")},_bindUseAddressForShippingChange:function(){this.after("useAddressForShippingChange",function(a){!0===a.newVal&&this.fire("shippingLocationChange")},this)},_bindZipChange:function(){this.get("contentBox").one(".zip input").after("change",function(){this.get("useAddressForShipping")&&this.fire("shippingLocationChange")},this)},_bindCountryChange:function(){this.get("contentBox").one(".country select").after("change",function(){this.syncUI();
this.get("useAddressForShipping")&&this.fire("shippingLocationChange")},this)},_bindStateChange:function(){this.get("contentBox").delegate("change",function(){this.get("useAddressForShipping")&&this.fire("shippingLocationChange")},".state .field-element",this)},_bindGoogleAutoComplete:function(){this._autoComplete.on("placeDetails",function(a){this._setSelectedCountry(a.place.country);this.syncUI();this._populateFieldsFromAc(a.place)},this);this._autoComplete.on(["keyboardContinue","listMouseUp"],
function(){this.get("contentBox").one("input.address-line2").focus()},this)},_getSelectedCountry:function(){return this.get("contentBox").one(".country select").get("value")},_setSelectedCountry:function(a){this.get("contentBox").one(".country select").set("value",a)},_getSelectedState:function(){return this.get("contentBox").one(".state select").get("value")},_countryRequiresStateAndZip:function(a){return a===b.title||a===c.title},_shouldValidateStateZipEnclosure:function(){return this._getSelectedCountry()===
b.title},_syncRequiredFieldsForSelectedCountry:function(){this.get("contentBox").all(".state, .zip").toggleClass("required",this._countryRequiresStateAndZip(this._getSelectedCountry()))},_zipFieldIsInvalid:function(a){var c=/^\d{5}(-\d{4})?$/;return this._getSelectedCountry()===b.title?!c.test(a.one(".field-element").get("value").trim()):!1},_emailFieldIsInvalid:function(b){return!a.Squarespace.EmailUtils.isValid(b.one(".field-element").get("value"))},_validateField:function(a){var b=d.superclass._validateField.call(this,
a);if(b)return b;if(a.hasClass("zip")&&this._zipFieldIsInvalid(a)||a.hasClass("email")&&this._emailFieldIsInvalid(a))return{type:this.getProperty("FIELD_ERROR_TYPES").VALIDATION,field:a}},_buildSingleOptionString:function(a){return'<option value="'+a+'">'+a+"</option>"},_buildOptionString:function(b){return a.Array.reduce(b,"",function(a,b){return"Not Specified"===b?a:a+this._buildSingleOptionString(b)},this)},_getCountryTitles:function(){var b=a.Array.filter(a.Object.values(e.COUNTRY_OPTIONS),function(a){return!a.empty});
return a.Array.map(b,function(a){return a.title})},_getStateCodesForSelectedCountry:function(){var b=e.countryCodeFromName(this._getSelectedCountry());if(""===b||!a.Lang.isValue(b))b="US";b=e.COUNTRIES_TO_STATES[b];return a.Lang.isValue(b)?a.Object.keys(b):[]},_fetchAsyncValidatedErrors:function(){var b=this.getLocationForShipping();return!this._shouldValidateStateZipEnclosure()?a.when([]):new a.Promise(a.bind(function(c){a.Data.get({url:a.Squarespace.API_ROOT+"commerce/shipping/address/validate",
headers:{"Content-Type":"application/json"},data:{state:b.state,zip:b.zip},success:a.bind(function(a){a.stateOwnsZip?c([]):c([{type:this.getProperty("FIELD_ERROR_TYPES").CUSTOM,message:"ZIP Code does not belong to that State."}])},this)})},this))},_populateCountrySelect:function(){var c=this.get("contentBox").one(".country select"),d=this._getSelectedCountry(),k=this.get("countriesAllowed");c.empty();0===k.length?c.setHTML(this._buildSingleOptionString(b.title)):(c.setHTML(this._buildOptionString(k)),
-1!==a.Array.indexOf(k,d)?c.set("value",d):-1!==a.Array.indexOf(k,b.title)?c.set("value",b.title):c.set("value",k[0]))},_updateStateFieldForSelectedCountry:function(b){var c=this.get("contentBox").one(".state .field-element");b=a.Lang.isValue(b)?e.countryCodeFromName(b):e.countryCodeFromName(this._getSelectedCountry());var d;e.COUNTRIES_TO_STATES[b]?c.test("select")||(d=a.Node.create('<select class="field-element state required" name="'+c.getAttribute("name")+'"></select>')):c.test("input")||(d=a.Node.create('<input class="field-element state" placeholder="State" name="'+
c.getAttribute("name")+'" />'));d&&(d.plug(a.Squarespace.Plugin.PulseWarn,{iterations:1,useClass:!0,targetClass:"warn",interval:1300}),c.replace(d),c=d);if(c.test("select")){d=this._getSelectedState();b=this._getStateCodesForSelectedCountry();c.empty();var p=this._buildSingleOptionString("")+this._buildOptionString(b);c.setHTML(p);-1!==a.Array.indexOf(b,d)&&c.set("value",d)}}},{CSS_PREFIX:"sqs-checkout-form-address",ATTRS:{strings:{value:null},countriesAllowed:{value:[]},getCountriesAllowed:{value:function(){}},
useAddressForShipping:{value:!1}}})},"1.0",{requires:"autocomplete cookie node squarespace-localities squarespace-util squarespace-checkout-form-section squarespace-widgets-google-places-autocomplete".split(" ")})},1341:function(m,n,g){YUI.add("squarespace-hb-money-string",function(a){a.Handlebars.registerHelper("money-string",function(e,b){return new a.Handlebars.SafeString(a.Squarespace.Commerce.moneyString(e))})},"1.0",{requires:["handlebars-base","squarespace-commerce-utils"]})},1342:function(m,
n,g){YUI.add("squarespace-shipping-options-list",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.ShippingOptionsList=a.Base.create("shippingOptionsList",a.Squarespace.Widgets.SSWidget,[],{renderUI:function(){e.superclass.renderUI.call(this);this._spinner=new a.Squarespace.Spinner({render:this.get("contentBox").one(".loading-spinner"),size:1<this.get("model").get("shippingOptions").length?35:15,color:"dark"})},bindUI:function(){e.superclass.bindUI.call(this);var a=this.get("model"),
c=this.get("contentBox");a.on("change",this.syncUI,this);a.on("recalculate-start",this._setLoadingState,this);a.on("recalculate-end",this._setLoadedState,this);this.on("shippingCountryChange",this.syncUI,this);c.delegate("click",function(c){a.updateShippingMethod(c.target.get("value"))},"input",this)},syncUI:function(){e.superclass.syncUI.call(this);var b=this.get("contentBox"),c=this.get("model"),d=c.get("shippingOptions"),f=(c=c.get("selectedShippingOption"))?c.id:null,c=this._getWarnings(),h=b.one(".options-container");
b.all(".shipping-option").remove(!0);b.toggleClass("empty",0===d.length);b.toggleClass("show-zip-warning",c.zip);b.toggleClass("show-zip-invalid-warning",c.zipInvalid);b.toggleClass("show-weight-missing-warning",c.weightMissing);b.toggleClass("show-service-unavailable-warning",c.serviceUnavailable);b.toggleClass("show-carrier-warning",c.carrier);a.Array.each(d,function(b,c){var d=b.id,e=b.priceRequestStatus!==a.Squarespace.ShippingPriceRequestStatus.SUCCESS,g;b.rateType===a.Squarespace.ShippingRateTypes.USPS&&
(g=a.Squarespace.Commerce.speedStringForShippingRate(b.rateType,b.formula.serviceType));e=a.Squarespace.UITemplates.renderAsNodeOrDocFrag(this.getProperty("HANDLEBARS_SHIPPING_OPT_TEMPLATE"),{name:b.name,id:d,computedCost:b.computedCost,speed:g,showAlert:e});(f&&d===f||!f&&0===c)&&e.one("input").set("checked",!0);h.append(e)},this)},getSelectedOption:function(){var b=this.get("contentBox").one("input:checked");if(a.Lang.isValue(b)&&b.get("disabled"))return null;if(b)return{value:b.get("value"),title:b.get("title"),
cost:Number(b.getData("computed-cost"))}},setSelectedOption:function(a){this.get("contentBox").all("input").each(function(c){c.set("checked",c.get("value")===a)},this)},_setLoadingState:function(){var a=this.get("contentBox"),c=1<this.get("model").get("shippingOptions").length;this._spinner.set("size",c?35:15);a.all("input").setAttribute("disabled",!0);a.toggleClass("multiple-options",c);a.addClass("loading-options")},_setLoadedState:function(){a.later(350,this,function(){var a=this.get("contentBox");
a.removeClass("loading-options");a.all(".shipping-option").each(function(a){a.hasClass("disabled")||a.one("input").removeAttribute("disabled")},this)})},_getWarnings:function(){var b=this.get("model").get("shippingOptions"),c=a.Array.reduce(b,!1,function(b,c){return b||c.priceRequestStatus===a.Squarespace.ShippingPriceRequestStatus.DESTINATION_MISSING}),d=a.Array.reduce(b,!1,function(b,c){return b||c.priceRequestStatus===a.Squarespace.ShippingPriceRequestStatus.DESTINATION_INVALID}),f=a.Array.reduce(b,
!1,function(b,c){return b||c.priceRequestStatus===a.Squarespace.ShippingPriceRequestStatus.WEIGHT_MISSING}),h=a.Array.reduce(b,!1,function(b,c){return b||c.priceRequestStatus===a.Squarespace.ShippingPriceRequestStatus.SERVICE_UNAVAILABLE_FOR_PACKAGE}),b=a.Array.reduce(b,!1,function(b,c){return b||c.priceRequestStatus===a.Squarespace.ShippingPriceRequestStatus.CARRIER_UNAVAILABLE});return{zip:c,zipInvalid:d,weightMissing:f,serviceUnavailable:h,carrier:b}}},{CSS_PREFIX:"sqs-shipping-options-list",HANDLEBARS_TEMPLATE:"shipping-options-list.html",
HANDLEBARS_SHIPPING_OPT_TEMPLATE:"shipping-options-list-option.html",ATTRS:{model:{value:null,validator:function(b){return a.instanceOf(b,a.Squarespace.Models.ShoppingCart)}}}})},"1.0",{requires:"base node squarespace-ss-widget squarespace-models-shopping-cart squarespace-shipping-options-list-template squarespace-shipping-options-list-option-template squarespace-hb-money-string squarespace-spinner".split(" ")})},1343:function(m,n,g){YUI.add("squarespace-checkout-form-payment",function(a){a.namespace("Squarespace.Widgets");
var e=a.Squarespace.Widgets.CheckoutFormPayment=a.Base.create("checkoutFormPayment",a.Squarespace.Widgets.CheckoutFormAddress,[],{initializer:function(){this.get("requiresShipping")||this.set("useAddressForShipping",!0)},renderUI:function(){e.superclass.renderUI.call(this);var b=this.get("contentBox");this._creditCardInputs={cardNumber:b.one("#card-number input"),cardExpiryMonth:b.one("#card-expiry-month select"),cardExpiryYear:b.one("#card-expiry-year select"),cvc:b.one("#cvc input")};this._hiddenInputs=
{cardHolderName:b.one('input[name="cardHolderName"]'),stripeToken:b.one('input[name="stripeToken"]')};a.Array.each(this.get("optionalHiddenFields"),function(c){var d=b.one('input[name="'+c+'"]');if(a.Lang.isValue(d))this._hiddenInputs[c]=d;else throw Error("Optional hidden field input element could not be found.");},this);this._toggleLockedFields();this._syncBillingFieldsWithCheckbox()},bindUI:function(){e.superclass.bindUI.call(this);this.after("inTestModeChange",this._toggleLockedFields,this);this.get("requiresShipping")&&
this.get("contentBox").one('input[name="billToShipping"]').after("change",this._syncBillingFieldsWithCheckbox,this);this.after("stateChange",this._syncBillingFieldsWithCheckbox,this);this._bindLockedToolTip()},syncUI:function(){e.superclass.syncUI.call(this)},_syncBillingFieldsWithCheckbox:function(){var a=this.get("contentBox").one("#billing-address");if(this.get("isLinkedToShipping")){var c=this.get("shippingSection").getValues();this._updateStateFieldForSelectedCountry(c.shippingCountry);this._syncRequiredFieldsForSelectedCountry();
this.setValues({billingFirstName:c.shippingFirstName,billingLastName:c.shippingLastName,billingAddress1:c.shippingAddress1,billingAddress2:c.shippingAddress2,billingCity:c.shippingCity,billingState:c.shippingState,billingZip:c.shippingZip,billingCountry:c.shippingCountry});a.toggleClass("locked",!0);a.all("input, select").each(function(a){a.setAttribute("readonly",!0);a.setAttribute("disabled","disabled")})}else a.toggleClass("locked",!1),a.all("input, select").each(function(a){a.removeAttribute("readonly");
a.removeAttribute("disabled")}),this.setValues({billingFirstName:"",billingLastName:"",billingAddress1:"",billingAddress2:"",billingCity:"",billingState:"",billingZip:""})},setCreditCardValues:function(b){a.Object.each(b,a.bind(function(a,b){this._setFieldValue(this._creditCardInputs[b],a)},this))},getCreditCardValues:function(){return this._extractValuesFromFields(this._creditCardInputs)},setHiddenValues:function(b){a.Object.each(b,a.bind(function(a,b){this._setFieldValue(this._hiddenInputs[b],a)},
this))},getValues:function(){var a=e.superclass.getValues.call(this);this._extractValuesFromFields(this._hiddenInputs);if(this.get("isLinkedToShipping")){var c=this.get("shippingSection").getValues();a.cardHolderName=c.shippingFirstName+" "+c.shippingLastName}else a.cardHolderName=a.billingFirstName+" "+a.billingLastName;return a},_extractValuesFromFields:function(b){return a.Array.hash(a.Object.keys(b),a.Array.map(a.Object.values(b),function(a){return a.get("value")}))},getLocationForShipping:function(){var a=
this.getValues();return{country:a.billingCountry,state:a.billingState,zip:a.billingZip}},_getSelectedCountry:function(){return this.get("isLinkedToShipping")?this.get("shippingSection").getValues().shippingCountry:this.getValues().billingCountry},_onContinue:function(){this.fire("continue")},_populateFieldsFromAc:function(a){this.setValues({billingAddress1:a.address,billingCountry:a.country,billingCity:a.city,billingState:a.state,billingZip:a.zip})},_toggleLockedFields:function(){var b=this.get("inTestMode"),
c=this.get("storeState")==a.Squarespace.StoreStates.NOT_CONNECTED,d=this.get("contentBox"),f=this._creditCardInputs,h=this._creditCardInputs.cardNumber;d.one("#credit-card").toggleClass("locked",b||c);b||c?(this.setCreditCardValues({cardNumber:"4242424242424242",cardExpiryMonth:"4",cardExpiryYear:(new Date).getFullYear()+1,cvc:"323"}),h.setAttribute("readonly",!0),f.cardExpiryMonth.setAttribute("disabled","disabled"),f.cardExpiryYear.setAttribute("disabled","disabled"),f.cvc.setAttribute("readonly",
!0)):(this.setCreditCardValues({cardNumber:"",cardExpiryMonth:(new Date).getMonth(),cardExpiryYear:(new Date).getFullYear(),cvc:""}),h.removeAttribute("readonly"),f.cardExpiryMonth.removeAttribute("disabled"),f.cardExpiryYear.removeAttribute("disabled"),f.cvc.removeAttribute("readonly"))},_bindLockedToolTip:function(){this._creditCardInputs.cardNumber.on("click",function(){var b=this.get("contentBox").one("#credit-card");this.get("inTestMode")&&new a.Squarespace.Widgets.Information({"strings.title":"Store Not Live",
"strings.message":'This store has not yet gone live. You may try the checkout process and place a test order. We have prefilled a "Test" credit card number for you.',hideAfterTime:7E3,position:a.Squarespace.Widgets.Confirmation.ANCHOR.ELEMENT,anchor:b});this.get("storeState")==a.Squarespace.StoreStates.NOT_CONNECTED&&new a.Squarespace.Widgets.Information({"strings.title":"Payments Not Connected","strings.message":"A payment gateway is not connected. Checkout will be disabled. Please go to Store Settings to connect Stripe.",
hideAfterTime:7E3,position:a.Squarespace.Widgets.Confirmation.ANCHOR.ELEMENT,anchor:b})},this)},updateButton:function(b){b=a.Squarespace.DateUtils.humanizeDuration(1E3*b);this.get("contentBox").one("#place-order-button").setContent("Submitting in "+b+"...").set("disabled",!0)},showQueueExplanation:function(){this.get("contentBox").one(".wait-in-queue-message").show()},lock:function(){this.get("contentBox").one("#place-order-button").setContent(this.get("strings.pendingText")).set("disabled",!0)},
unlock:function(){this.get("contentBox").one("#place-order-button").setContent(this.get("strings.submitText")).set("disabled",!1)}},{CSS_PREFIX:"sqs-checkout-form-payment",HANDLEBARS_TEMPLATE:"checkout-form-payment.html",ATTRS:{strings:{value:{submitText:"Place Order",pendingText:"Placing Order ..."}},optionalHiddenFields:{value:[]},isLinkedToShipping:{getter:function(){return this.get("requiresShipping")&&this.get("billToShippingAddress")}},billToShippingAddress:{getter:function(){var b=this.get("contentBox").one('input[name="billToShipping"]');
return!a.Lang.isValue(b)?!1:b.get("checked")}},inTestMode:{validator:a.Squarespace.AttrValidators.isBoolean},storeState:{value:null},shippingSection:{value:null},requiresShipping:{value:!1}}})},"1.0",{requires:"base node squarespace-attr-validators squarespace-basic-check squarespace-hb-date-options squarespace-checkout-form-section squarespace-checkout-form-payment-template squarespace-widgets-information".split(" ")})},1344:function(m,n,g){YUI.add("squarespace-hb-date-options",function(a){a.Handlebars.registerHelper("month-options",
function(e){var b="";a.Array.each("January February March April May June July August September October November December".split(" "),function(c,d){var f=d+1,h=f.toString();1===h.length&&(h="0"+h);a.Lang.isUndefined(e.hash["short"])&&(h+=" "+c);b+='<option value="'+f+'">'+h+"</option>"});return new a.Handlebars.SafeString(b)});a.Handlebars.registerHelper("year-options",function(e){e=(new Date).getFullYear();for(var b="",c=e;c<e+10;c++)b+='<option value="'+c+'">'+c+"</option>";return new a.Handlebars.SafeString(b)},
this)},"1.0",{requires:["handlebars-base"]})},1345:function(m,n,g){YUI.add("squarespace-contribution-summary",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.ContributionSummary=a.Base.create("ContributionSummary",a.Squarespace.Widgets.CheckoutFormSection,[],{_getHBTemplateContext:function(){var b=e.superclass._getHBTemplateContext.call(this);a.Array.each(b.donatePage.suggestedContributions,function(b){b.amountDollars=a.Squarespace.Commerce.moneyFormat(b.amountCents)});
return b},bindUI:function(){e.superclass.bindUI.call(this);var a=this.get("contentBox");a.delegate("click",function(c){"other"==c.target.get("value")&&a.one('input[name="contributionAmount"]').select()},'input[type="radio"]')},renderUI:function(){e.superclass.renderUI.call(this);var b=this.get("contentBox");b.one('input[name="contributionAmount"]').plug(a.Squarespace.Plugin.MoneyFormatter);var c=this.get("donatePage").suggestedContributions;a.Lang.isValue(c)&&0<c.length?b.one(".prompt").setContent("Select an amount:"):
b.one(".prompt").setContent("Enter an amount:")},_getLocalErrors:function(){var a=e.superclass._getLocalErrors.call(this);return 50>this.getDonationAmountCents()?[{type:this.getProperty("FIELD_ERROR_TYPES").CUSTOM,message:"You must donate at least 0.50"}]:a},getDonationAmountCents:function(){var b=this.get("contentBox"),c=this.get("donatePage").suggestedContributions;return a.Lang.isValue(c)&&0<c.length?(c=this._getCheckedRadio(),!a.Lang.isValue(c)?0:"other"==c.get("value")?b.one('input[name="contributionAmount"]').moneyFormatterPlugin.get("data"):
c.get("value")):b.one('input[name="contributionAmount"]').moneyFormatterPlugin.get("data")},_getCheckedRadio:function(){var a;this.get("contentBox").one(".contribution-option-list").all('input[type="radio"]').each(function(c){c.get("checked")&&(a=c)});return a},getValues:function(){return{donationAmount:a.Squarespace.Commerce.moneyString(this.getDonationAmountCents()),title:this.get("donatePage").title}}},{CSS_PREFIX:"sqs-contribution-summary",HANDLEBARS_TEMPLATE:"contribution-summary.html",HANDLEBARS_SAVED_FIELDSET_TEMPLATE:"checkout-saved-contribution.html",
ATTRS:{strings:{value:{prompt:null}},donatePage:{value:null}}})},"1.0",{requires:"base node squarespace-commerce-utils squarespace-ui-templates squarespace-hb-money-string squarespace-checkout-form-section squarespace-contribution-summary-template squarespace-plugin-money-formatter squarespace-async-form squarespace-checkout-saved-contribution-template".split(" ")})},1550:function(m,n,g){YUI.add("overlay",function(a,e){a.Overlay=a.Base.create("overlay",a.Widget,[a.WidgetStdMod,a.WidgetPosition,a.WidgetStack,
a.WidgetPositionAlign,a.WidgetPositionConstrain])},"3.17.2",{requires:"widget widget-stdmod widget-position widget-position-align widget-stack widget-position-constrain".split(" "),skinnable:!0})},1551:function(m,n,g){YUI.add("widget-stdmod",function(a,e){function b(a){}var c=a.Lang,d=a.Node,f=a.UA,h=a.Widget,k=a.Widget.UI_SRC;b.HEADER="header";b.BODY="body";b.FOOTER="footer";b.AFTER="after";b.BEFORE="before";b.REPLACE="replace";var p=b.HEADER,l=b.BODY,q=b.FOOTER,g=p+"Content",t=q+"Content",s=l+"Content";
b.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:b.BODY,validator:function(a){return this._validateFillHeight(a)}}};b.HTML_PARSER={headerContent:function(a){return this._parseStdModHTML(p)},bodyContent:function(a){return this._parseStdModHTML(l)},footerContent:function(a){return this._parseStdModHTML(q)}};b.SECTION_CLASS_NAMES={header:h.getClassName("hd"),body:h.getClassName("bd"),footer:h.getClassName("ft")};b.TEMPLATES={header:'<div class="'+
b.SECTION_CLASS_NAMES[p]+'"></div>',body:'<div class="'+b.SECTION_CLASS_NAMES[l]+'"></div>',footer:'<div class="'+b.SECTION_CLASS_NAMES[q]+'"></div>'};b.prototype={initializer:function(){this._stdModNode=this.get("contentBox");a.before(this._renderUIStdMod,this,"renderUI");a.before(this._bindUIStdMod,this,"bindUI");a.before(this._syncUIStdMod,this,"syncUI")},_syncUIStdMod:function(){var a=this._stdModParsed;(!a||!a[g])&&this._uiSetStdMod(p,this.get(g));(!a||!a[s])&&this._uiSetStdMod(l,this.get(s));
(!a||!a[t])&&this._uiSetStdMod(q,this.get(t));this._uiSetFillHeight(this.get("fillHeight"))},_renderUIStdMod:function(){this._stdModNode.addClass(h.getClassName("stdmod"));this._renderStdModSections();this.after("headerContentChange",this._afterHeaderChange);this.after("bodyContentChange",this._afterBodyChange);this.after("footerContentChange",this._afterFooterChange)},_renderStdModSections:function(){c.isValue(this.get(g))&&this._renderStdMod(p);c.isValue(this.get(s))&&this._renderStdMod(l);c.isValue(this.get(t))&&
this._renderStdMod(q)},_bindUIStdMod:function(){this.after("fillHeightChange",this._afterFillHeightChange);this.after("heightChange",this._fillHeight);this.after("contentUpdate",this._fillHeight)},_afterHeaderChange:function(a){a.src!==k&&this._uiSetStdMod(p,a.newVal,a.stdModPosition)},_afterBodyChange:function(a){a.src!==k&&this._uiSetStdMod(l,a.newVal,a.stdModPosition)},_afterFooterChange:function(a){a.src!==k&&this._uiSetStdMod(q,a.newVal,a.stdModPosition)},_afterFillHeightChange:function(a){this._uiSetFillHeight(a.newVal)},
_validateFillHeight:function(a){return!a||a==b.BODY||a==b.HEADER||a==b.FOOTER},_uiSetFillHeight:function(a){a=this.getStdModNode(a);var b=this._currFillNode;b&&a!==b&&b.setStyle("height","");a&&(this._currFillNode=a);this._fillHeight()},_fillHeight:function(){if(this.get("fillHeight")){var a=this.get("height");""!=a&&"auto"!=a&&this.fillHeight(this.getStdModNode(this.get("fillHeight")))}},_uiSetStdMod:function(a,b,d){if(c.isValue(b)){var f=this.getStdModNode(a,!0);this._addStdModContent(f,b,d);this.set(a+
"Content",this._getStdModContent(a),{src:k})}else this._eraseStdMod(a);this.fire("contentUpdate")},_renderStdMod:function(a){var b=this.get("contentBox"),c=this._findStdModSection(a);c||(c=this._getStdModTemplate(a));this._insertStdModSection(b,a,c);this[a+"Node"]=c;return this[a+"Node"]},_eraseStdMod:function(a){var b=this.getStdModNode(a);b&&(b.remove(!0),delete this[a+"Node"])},_insertStdModSection:function(a,b,c){var d=a.get("firstChild");b===q||!d?a.appendChild(c):b===p?a.insertBefore(c,d):(b=
this[q+"Node"])?a.insertBefore(c,b):a.appendChild(c)},_getStdModTemplate:function(a){return d.create(b.TEMPLATES[a],this._stdModNode.get("ownerDocument"))},_addStdModContent:function(a,c,d){switch(d){case b.BEFORE:d=0;break;case b.AFTER:d=void 0;break;default:d=b.REPLACE}a.insert(c,d)},_getPreciseHeight:function(a){var b=a?a.get("offsetHeight"):0;a&&a.hasMethod("getBoundingClientRect")&&(a=a.invoke("getBoundingClientRect"))&&(b=a.bottom-a.top);return b},_findStdModSection:function(a){return this.get("contentBox").one("> ."+
b.SECTION_CLASS_NAMES[a])},_parseStdModHTML:function(b){var c=this._findStdModSection(b);return c?(this._stdModParsed||(this._stdModParsed={},a.before(this._applyStdModParsedConfig,this,"_applyParsedConfig")),this._stdModParsed[b+"Content"]=1,c.get("innerHTML")):null},_applyStdModParsedConfig:function(a,b,c){if(a=this._stdModParsed)a[g]=!(g in b)&&g in a,a[s]=!(s in b)&&s in a,a[t]=!(t in b)&&t in a},_getStdModContent:function(a){return this[a+"Node"]?this[a+"Node"].get("childNodes"):null},setStdModContent:function(a,
b,c){this.set(a+"Content",b,{stdModPosition:c})},getStdModNode:function(a,b){var c=this[a+"Node"]||null;!c&&b&&(c=this._renderStdMod(a));return c},fillHeight:function(a){if(a){var b=this.get("contentBox"),d=[this.headerNode,this.bodyNode,this.footerNode],h,k=0;h=0;for(var e=!1,p=0,l=d.length;p<l;p++)(h=d[p])&&(h!==a?k+=this._getPreciseHeight(h):e=!0);e&&((f.ie||f.opera)&&a.set("offsetHeight",0),b=b.get("offsetHeight")-parseInt(b.getComputedStyle("paddingTop"),10)-parseInt(b.getComputedStyle("paddingBottom"),
10)-parseInt(b.getComputedStyle("borderBottomWidth"),10)-parseInt(b.getComputedStyle("borderTopWidth"),10),c.isNumber(b)&&(h=b-k,0<=h&&a.set("offsetHeight",h)))}}};a.WidgetStdMod=b},"3.17.2",{requires:["base-build","widget"]})},1554:function(m,n,g){YUI.add("widget-stack",function(a,e){function b(a){}var c=a.Lang,d=a.UA,f=a.Node,h=a.Widget;b.ATTRS={shim:{value:6==d.ie},zIndex:{value:0,setter:"_setZIndex"}};b.HTML_PARSER={zIndex:function(a){return this._parseZIndex(a)}};b.SHIM_CLASS_NAME=h.getClassName("shim");
b.STACKED_CLASS_NAME=h.getClassName("stacked");b.SHIM_TEMPLATE='<iframe class="'+b.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>';b.prototype={initializer:function(){this._stackNode=this.get("boundingBox");this._stackHandles={};a.after(this._renderUIStack,this,"renderUI");a.after(this._syncUIStack,this,"syncUI");a.after(this._bindUIStack,this,"bindUI")},_syncUIStack:function(){this._uiSetShim(this.get("shim"));this._uiSetZIndex(this.get("zIndex"))},
_bindUIStack:function(){this.after("shimChange",this._afterShimChange);this.after("zIndexChange",this._afterZIndexChange)},_renderUIStack:function(){this._stackNode.addClass(b.STACKED_CLASS_NAME)},_parseZIndex:function(a){a=!a.inDoc()||"static"===a.getStyle("position")?"auto":a.getComputedStyle("zIndex");return"auto"===a?null:a},_setZIndex:function(a){c.isString(a)&&(a=parseInt(a,10));c.isNumber(a)||(a=0);return a},_afterShimChange:function(a){this._uiSetShim(a.newVal)},_afterZIndexChange:function(a){this._uiSetZIndex(a.newVal)},
_uiSetZIndex:function(a){this._stackNode.setStyle("zIndex",a)},_uiSetShim:function(a){a?(this.get("visible")?this._renderShim():this._renderShimDeferred(),6==d.ie&&this._addShimResizeHandlers()):this._destroyShim()},_renderShimDeferred:function(){this._stackHandles.shimdeferred=this._stackHandles.shimdeferred||[];this._stackHandles.shimdeferred.push(this.on("visibleChange",function(a){a.newVal&&this._renderShim()}))},_addShimResizeHandlers:function(){this._stackHandles.shimresize=this._stackHandles.shimresize||
[];var a=this.sizeShim,b=this._stackHandles.shimresize;b.push(this.after("visibleChange",a));b.push(this.after("widthChange",a));b.push(this.after("heightChange",a));b.push(this.after("contentUpdate",a))},_detachStackHandles:function(a){a=this._stackHandles[a];var b;if(a&&0<a.length)for(;b=a.pop();)b.detach()},_renderShim:function(){var a=this._shimNode,b=this._stackNode;a||(a=this._shimNode=this._getShimTemplate(),b.insertBefore(a,b.get("firstChild")),this._detachStackHandles("shimdeferred"),this.sizeShim())},
_destroyShim:function(){this._shimNode&&(this._shimNode.get("parentNode").removeChild(this._shimNode),this._shimNode=null,this._detachStackHandles("shimdeferred"),this._detachStackHandles("shimresize"))},sizeShim:function(){var a=this._shimNode,b=this._stackNode;a&&(6===d.ie&&this.get("visible"))&&(a.setStyle("width",b.get("offsetWidth")+"px"),a.setStyle("height",b.get("offsetHeight")+"px"))},_getShimTemplate:function(){return f.create(b.SHIM_TEMPLATE,this._stackNode.get("ownerDocument"))}};a.WidgetStack=
b},"3.17.2",{requires:["base-build","widget"],skinnable:!0})},1555:function(m,n,g){YUI.add("widget-position-constrain",function(a,e){function b(a){}var c=a.Node,d;b.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:!1}};d=b._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}};b.prototype={initializer:function(){this._posNode||a.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added");a.after(this._bindUIPosConstrained,
this,"bindUI")},getConstrainedXY:function(a,b){b=b||this.get("constrain");var c=this._getRegion(!0===b?null:b),d=this._posNode.get("region");return[this._constrain(a[0],"x",d,c),this._constrain(a[1],"y",d,c)]},constrain:function(a,b){var c,d;if(d=b||this.get("constrain"))c=a||this.get("xy"),d=this.getConstrainedXY(c,d),(d[0]!==c[0]||d[1]!==c[1])&&this.set("xy",d,{constrained:!0})},_setConstrain:function(a){return!0===a?a:c.one(a)},_constrain:function(a,b,c,d){if(d){this.get("preventOverlap")&&(a=
this._preventOverlap(a,b,c,d));var e="x"==b;b=e?d.width:d.height;c=e?c.width:c.height;var g=e?d.left:d.top;d=e?d.right-c:d.bottom-c;if(a<g||a>d)c<b?a<g?a=g:a>d&&(a=d):a=g}return a},_preventOverlap:function(a,b,c,e){var l=this.get("align"),g="x"===b,w,t,s,u,v;if(l&&l.points&&d[b][l.points.join("")]){if(b=this._getRegion(l.node))w=g?c.width:c.height,t=g?b.left:b.top,s=g?b.right:b.bottom,u=g?b.left-e.left:b.top-e.top,v=g?e.right-b.right:e.bottom-b.bottom;a>t?v<w&&u>w&&(a=t-w):u<w&&v>w&&(a=s)}return a},
_bindUIPosConstrained:function(){this.after("constrainChange",this._afterConstrainChange);this._enableConstraints(this.get("constrain"))},_afterConstrainChange:function(a){this._enableConstraints(a.newVal)},_enableConstraints:function(a){a?(this.constrain(),this._cxyHandle=this._cxyHandle||this.on("constrain|xyChange",this._constrainOnXYChange)):this._cxyHandle&&(this._cxyHandle.detach(),this._cxyHandle=null)},_constrainOnXYChange:function(a){a.constrained||(a.newVal=this.getConstrainedXY(a.newVal))},
_getRegion:function(a){var b;a?(a=c.one(a))&&(b=a.get("region")):b=this._posNode.get("viewportRegion");return b}};a.WidgetPositionConstrain=b},"3.17.2",{requires:["widget-position"]})},1585:function(m,n,g){YUI.add("autocomplete-sources",function(a,e){var b=a.AutoCompleteBase,c=a.Lang,d="_sourceSuccess",f="maxResults";a.mix(b.prototype,{_YQL_SOURCE_REGEX:/^(?:select|set|use)\s+/i,_beforeCreateObjectSource:function(b){return b instanceof a.Node&&"select"===b.get("nodeName").toLowerCase()?this._createSelectSource(b):
a.JSONPRequest&&b instanceof a.JSONPRequest?this._createJSONPSource(b):this._createObjectSource(b)},_createIOSource:function(b){function c(f){var k=f.request;if(e._cache&&k in e._cache)e[d](e._cache[k],f);else g&&g.isInProgress()&&g.abort(),g=a.io(e._getXHRUrl(b,f),{on:{success:function(b,c){var h;try{h=a.JSON.parse(c.responseText)}catch(g){a.error("JSON parse error",g)}h&&(e._cache&&(e._cache[k]=h),e[d](h,f))}}})}var f={type:"io"},e=this,g,w,t;f.sendRequest=function(b){w=b;t||(t=!0,a.use("io-base",
"json-parse",function(){f.sendRequest=c;c(w)}))};return f},_createJSONPSource:function(b){function c(a){var f=a.request,k=a.query;if(e._cache&&f in e._cache)e[d](e._cache[f],a);else b._config.on.success=function(b){e._cache&&(e._cache[f]=b);e[d](b,a)},b.send(k)}var f={type:"jsonp"},e=this,g,w;f.sendRequest=function(d){g=d;w||(w=!0,a.use("jsonp",function(){b instanceof a.JSONPRequest||(b=new a.JSONPRequest(b,{format:a.bind(e._jsonpFormatter,e)}));f.sendRequest=c;c(g)}))};return f},_createSelectSource:function(a){var b=
this;return{type:"select",sendRequest:function(c){var f=[];a.get("options").each(function(a){f.push({html:a.get("innerHTML"),index:a.get("index"),node:a,selected:a.get("selected"),text:a.get("text"),value:a.get("value")})});b[d](f,c)}}},_createStringSource:function(a){return this._YQL_SOURCE_REGEX.test(a)?this._createYQLSource(a):-1!==a.indexOf("{callback}")?this._createJSONPSource(a):this._createIOSource(a)},_createYQLSource:function(b){function e(k){var l=k.query,q=g.get("yqlEnv"),w=g.get(f),A;
A=c.sub(b,{maxResults:0<w?w:1E3,request:k.request,query:l});if(g._cache&&A in g._cache)g[d](g._cache[A],k);else l=function(a){g._cache&&(g._cache[A]=a);g[d](a,k)},w={proto:g.get("yqlProtocol")},t?(t._callback=l,t._opts=w,t._params.q=A,q&&(t._params.env=q)):t=new a.YQLRequest(A,{on:{success:l},allowCache:!1},q?{env:q}:null,w),t.send()}var g=this,l={type:"yql"},q,w,t;g.get("resultListLocator")||g.set("resultListLocator",g._defaultYQLLocator);l.sendRequest=function(b){q=b;w||(w=!0,a.use("yql",function(){l.sendRequest=
e;e(q)}))};return l},_defaultYQLLocator:function(b){(b=b&&b.query&&b.query.results)&&c.isObject(b)?(b=a.Object.values(b)||[],b=1===b.length?b[0]:b,c.isArray(b)||(b=[b])):b=[];return b},_getXHRUrl:function(a,b){var d=this.get(f);b.query!==b.request&&(a+=b.request);return c.sub(a,{maxResults:0<d?d:1E3,query:encodeURIComponent(b.query)})},_jsonpFormatter:function(a,b,d){var e=this.get(f),g=this.get("requestTemplate");g&&(a+=g(d));return c.sub(a,{callback:b,maxResults:0<e?e:1E3,query:encodeURIComponent(d)})}});
a.mix(b.ATTRS,{yqlEnv:{value:null},yqlProtocol:{value:"http"}});a.mix(b.SOURCE_TYPES,{io:"_createIOSource",jsonp:"_createJSONPSource",object:"_beforeCreateObjectSource",select:"_createSelectSource",string:"_createStringSource",yql:"_createYQLSource"},!0)},"3.17.2",{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]})},1587:function(m,n,g){YUI.add("text-wordbreak",function(a,e){var b=a.Text,c=b.Data.WordBreak,d=[RegExp(c.aletter),RegExp(c.midnumlet),RegExp(c.midletter),
RegExp(c.midnum),RegExp(c.numeric),RegExp(c.cr),RegExp(c.lf),RegExp(c.newline),RegExp(c.extend),RegExp(c.format),RegExp(c.katakana),RegExp(c.extendnumlet)],f=RegExp("^"+c.punctuation+"$"),h=/\s/,k={getWords:function(a,b){var c=0,d=k._classify(a),e=d.length,g=[],m=[],v,B,A;b||(b={});b.ignoreCase&&(a=a.toLowerCase());B=b.includePunctuation;for(A=b.includeWhitespace;c<e;++c)v=a.charAt(c),g.push(v),k._isWordBoundary(d,c)&&((g=g.join(""))&&((A||!h.test(g))&&(B||!f.test(g)))&&m.push(g),g=[]);return m},
getUniqueWords:function(b,c){return a.Array.unique(k.getWords(b,c))},isWordBoundary:function(a,b){return k._isWordBoundary(k._classify(a),b)},_classify:function(a){for(var b,c=[],f=0,e,h,k=a.length,g=d.length,B;f<k;++f){b=a.charAt(f);B=12;for(e=0;e<g;++e)if((h=d[e])&&h.test(b)){B=e;break}c.push(B)}return c},_isWordBoundary:function(a,b){var c,d=a[b],f=a[b+1],e;if(0>b||b>a.length-1&&0!==b||0===d&&0===f)return!1;e=a[b+2];if(0===d&&(2===f||1===f)&&0===e)return!1;c=a[b-1];return(2===d||1===d)&&0===f&&
0===c||(4===d||0===d)&&(4===f||0===f)||(3===d||1===d)&&4===f&&4===c||4===d&&(3===f||1===f)&&4===e||(8===d||9===d||8===c||9===c||8===f||9===f)||5===d&&6===f?!1:7===d||5===d||6===d||7===f||5===f||6===f?!0:10===d&&10===f||11===f&&(0===d||4===d||10===d||11===d)||11===d&&(0===f||4===f||10===f)?!1:!0}};b.WordBreak=k},"3.17.2",{requires:["array-extras","text-data-wordbreak"]})},1588:function(m,n,g){YUI.add("text-data-wordbreak",function(a,e){a.namespace("Text.Data").WordBreak={aletter:"[A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f3\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bc0-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u24b6-\u24e9\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u303b\u303c\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790\ua791\ua7a0-\ua7a9\ua7fa-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]",
midnumlet:"['\\.\u2018\u2019\u2024\ufe52\uff07\uff0e]",midletter:"[:\u00b7\u00b7\u05f4\u2027\ufe13\ufe55\uff1a]",midnum:"[,;;\u0589\u060c\u060d\u066c\u07f8\u2044\ufe10\ufe14\ufe50\ufe54\uff0c\uff1b]",numeric:"[0-9\u0660-\u0669\u066b\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9]",
cr:"\\r",lf:"\\n",newline:"[\x0B\f\u0085\u2028\u2029]",extend:"[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1baa\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]",
format:"[\u00ad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200e\u200f\u202a-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb]",katakana:"[\u3031-\u3035\u309b\u309c\u30a0-\u30fa\u30fc-\u30ff\u31f0-\u31ff\u32d0-\u32fe\u3300-\u3357\uff66-\uff9d]",extendnumlet:"[_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}\u00a1\u00ab\u00b7\u00bb\u00bf;\u00b7\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u3008\u3009\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30\u2e31\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]"}},
"3.17.2",{requires:["yui-base"]})},1589:function(m,n,g){YUI.add("autocomplete-highlighters",function(a,e){var b=a.Array,c=a.Highlight,d=a.mix(a.namespace("AutoCompleteHighlighters"),{charMatch:function(a,d,e){var g=b.unique((e?a:a.toLowerCase()).split(""));return b.map(d,function(a){return c.all(a.text,g,{caseSensitive:e})})},charMatchCase:function(a,b){return d.charMatch(a,b,!0)},phraseMatch:function(a,d,e){return b.map(d,function(b){return c.all(b.text,[a],{caseSensitive:e})})},phraseMatchCase:function(a,
b){return d.phraseMatch(a,b,!0)},startsWith:function(a,d,e){return b.map(d,function(b){return c.all(b.text,[a],{caseSensitive:e,startsWith:!0})})},startsWithCase:function(a,b){return d.startsWith(a,b,!0)},subWordMatch:function(d,e,g){var p=a.Text.WordBreak.getUniqueWords(d,{ignoreCase:!g});return b.map(e,function(a){return c.all(a.text,p,{caseSensitive:g})})},subWordMatchCase:function(a,b){return d.subWordMatch(a,b,!0)},wordMatch:function(a,d,e){return b.map(d,function(b){return c.words(b.text,a,
{caseSensitive:e})})},wordMatchCase:function(a,b){return d.wordMatch(a,b,!0)}})},"3.17.2",{requires:["array-extras","highlight-base"]})},1590:function(m,n,g){YUI.add("highlight-base",function(a,e){var b=a.Array,c=a.Escape,d=a.Text.WordBreak,f=a.Lang.isArray,h={},g={_REGEX:"(&[^;\\s]*)?(%needles)",_REPLACER:function(a,b,c){return b&&!/\s/.test(c)?a:g._TEMPLATE.replace(/\{s\}/g,c)},_START_REGEX:"^(&[^;\\s]*)?(%needles)",_TEMPLATE:'<b class="'+a.ClassNameManager.getClassName("highlight")+'">{s}</b>',
all:function(a,b,d){var e=[],t,s,m,v,B,A;d||(d=h);t=!1!==d.escapeHTML;B=d.startsWith?g._START_REGEX:g._REGEX;A=d.replacer||g._REPLACER;b=f(b)?b:[b];s=0;for(m=b.length;s<m;++s)(v=b[s])&&e.push(c.regex(t?c.html(v):v));t&&(a=c.html(a));return!e.length?a:a.replace(RegExp(B.replace("%needles",e.join("|")),d.caseSensitive?"g":"gi"),A)},allCase:function(b,c,d){return g.all(b,c,a.merge(d||h,{caseSensitive:!0}))},start:function(b,c,d){return g.all(b,c,a.merge(d||h,{startsWith:!0}))},startCase:function(a,b){return g.start(a,
b,{caseSensitive:!0})},words:function(a,e,q){var m,t,s=g._TEMPLATE;q||(q=h);m=!!q.caseSensitive;e=b.hash(f(e)?e:d.getUniqueWords(e,{ignoreCase:!m}));t=q.mapper||function(a,b){return b.hasOwnProperty(m?a:a.toLowerCase())?s.replace(/\{s\}/g,c.html(a)):c.html(a)};a=d.getWords(a,{includePunctuation:!0,includeWhitespace:!0});return b.map(a,function(a){return t(a,e)}).join("")},wordsCase:function(a,b){return g.words(a,b,{caseSensitive:!0})}};a.Highlight=g},"3.17.2",{requires:["array-extras","classnamemanager",
"escape","text-wordbreak"]})},1646:function(m,n,g){YUI.add("lang/autocomplete-list",function(a){a.Intl.add("autocomplete-list","",{item_selected:"{item} selected.",items_available:"Suggestions are available. Use the up and down arrow keys to select suggestions."})},"3.17.2")},1668:function(m,n,g){YUI.add("squarespace-dialog-check-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["dialog-check.html"]=a(function(a,b,f,e,g){this.compilerInfo=[4,">= 1.0.0"];
f=this.merge(f,a.helpers);g=g||{};var p,l=this.escapeExpression;a='<div class="check-element ';if((e=f["if"].call(b,b.data,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return"active"},g),data:g}))||0===e)a+=e;a+='">\n  ';if((p=f["if"].call(b,(e=b.strings,null==e||!1===e?e:e.title),{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var c,d;return c=""+('\n    <div class="title">'+l((d=(d=a.strings,null==d||!1===d?d:d.title),"function"===typeof d?d.apply(a):d))+"</div>\n  ")},
g),data:g}))||0===p)a+=p;a+="\n  ";if((p=f["if"].call(b,(e=b.strings,null==e||!1===e?e:e.description),{hash:{},inverse:this.noop,fn:this.program(5,function(a,b){var c,d,f;c='\n    <div class="description">';if((f=(d=(d=a.strings,null==d||!1===d?d:d.description),"function"===typeof d?d.apply(a):d))||0===f)c+=f;return c+"</div>\n  "},g),data:g}))||0===p)a+=p;return a+"\n</div>\n"})})();a.Handlebars.registerPartial("dialog-check.html".replace("/","."),e.templates["dialog-check.html"])},"1.0",{requires:["handlebars-base"]})},
1815:function(m,n,g){YUI.add("squarespace-pill-shopping-cart-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["pill-shopping-cart.html"]=a(function(a,b,f,e,g){this.compilerInfo=[4,">= 1.0.0"];this.merge(f,a.helpers);return'<div class="icon"></div>\n\n<div class="details">\n  Cart&nbsp;-&nbsp;\n    <span class="total-quantity"></span>\n    <span class="suffix"></span>\n</div>\n\n<span class="subtotal">\n  <span class="price"></span>\n</span>\n'})})();
a.Handlebars.registerPartial("pill-shopping-cart.html".replace("/","."),e.templates["pill-shopping-cart.html"])},"1.0",{requires:["handlebars-base"]})},1816:function(m,n,g){YUI.add("squarespace-full-page-shopping-cart-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["full-page-shopping-cart.html"]=a(function(a,b,f,e,g){this.compilerInfo=[4,">= 1.0.0"];this.merge(f,a.helpers);return'<div class="loading-spinner"></div>\n\n<h2>Shopping Cart</h2>\n\n<div class="cart-container">\n\n  <table>\n\n    <thead> \n      <tr>\n        <td class="item">Item</td>\n        <td></td>\n        <td class="quantity">Quantity</td>\n        <td class="price">Price</td>\n        <td></td>\n      </tr>\n    </thead>\n\n    <tbody></tbody>\n\n  </table>\n\n  <div class="subtotal">\n    <span class="label">Subtotal</span>\n    <span class="price"></span>\n  </div>\n\n  <div class="checkout">\n    <div class="checkout-button sqs-system-button sqs-editable-button">CHECKOUT</div>\n  </div>\n\n</div>\n\n<div class="empty-message">\n  You have nothing in your shopping cart.&nbsp;\n  <a href="/">Continue Shopping</a>\n</div>\n'})})();
a.Handlebars.registerPartial("full-page-shopping-cart.html".replace("/","."),e.templates["full-page-shopping-cart.html"])},"1.0",{requires:["handlebars-base"]})},1817:function(m,n,g){YUI.add("squarespace-full-page-shopping-cart-item-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["full-page-shopping-cart-item.html"]=a(function(a,b,f,e,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,a.helpers);g=g||{};a='<tr>\n\n  <td class="item">\n    <div class="item-image"></div>\n  </td>\n\n  <td class="item-desc"></td>\n\n  <td class="quantity">\n    ';
if((b=f["if"].call(b,b.isPhysicalProduct,{hash:{},inverse:this.program(3,function(a,b){return'\n      <div class="not-applicable">N/A</div>\n    '},g),fn:this.program(1,function(a,b){return'\n      <input />\n      <div class="cooldown">&bull;</div>\n    '},g),data:g}))||0===b)a+=b;return a+'\n  </td>\n\n  <td class="price"></td>\n\n  <td class="remove">\n    <div class="remove-item">\u00d7</div>\n  </td>\n\n</tr>\n'})})();a.Handlebars.registerPartial("full-page-shopping-cart-item.html".replace("/",
"."),e.templates["full-page-shopping-cart-item.html"])},"1.0",{requires:["handlebars-base"]})},1818:function(m,n,g){YUI.add("squarespace-checkout-saved-custom-form-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["checkout-saved-custom-form.html"]=a(function(a,b,f,e,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,a.helpers);g=g||{};a='<div class="saved-fieldset">\n\n  ';if((b=f.each.call(b,b.fields,{hash:{},inverse:this.noop,fn:this.program(1,
function(a,b){var c,d;c="\n  <div>\n    ";if((d="function"===typeof a?a.apply(a):a)||0===d)c+=d;return c+"\n  </div> \n  "},g),data:g}))||0===b)a+=b;return a+"\n\n</div>\n"})})();a.Handlebars.registerPartial("checkout-saved-custom-form.html".replace("/","."),e.templates["checkout-saved-custom-form.html"])},"1.0",{requires:["handlebars-base"]})},1819:function(m,n,g){YUI.add("squarespace-checkout-form-custom-form-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||
{})["checkout-form-custom-form.html"]=a(function(a,b,f,e,g){this.compilerInfo=[4,">= 1.0.0"];this.merge(f,a.helpers);var p;a=this.escapeExpression;return b=""+('<div class="title">'+a((p=(p=b.strings,null==p||!1===p?p:p.name),"function"===typeof p?p.apply(b):p))+'<a class="edit-button">edit</a></div>\n\n<fieldset>\n\n  <div class="custom-form">\n  </div>\n\n  \x3c!-- Continue --\x3e\n  <div class="btn-container">\n    <div class="button continue-button">Continue</div>\n  </div>\n\n</fieldset>\n')})})();
a.Handlebars.registerPartial("checkout-form-custom-form.html".replace("/","."),e.templates["checkout-form-custom-form.html"])},"1.0",{requires:["handlebars-base"]})},1820:function(m,n,g){YUI.add("squarespace-shipping-options-list-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["shipping-options-list.html"]=a(function(a,b,f,e,g){this.compilerInfo=[4,">= 1.0.0"];this.merge(f,a.helpers);return'<div class="empty-message">\n  You cannot continue checkout because this store has not configured any\n  shipping options for your country.\n</div>\n\n<div class="warning-message zip-warning-message">\n  <img src="/universal/images-v6/dialog/tiny-alert.png" />Shipping options require your zip/postal code to estimate.\n</div>\n\n<div class="warning-message zip-invalid-warning-message">\n  <img src="/universal/images-v6/dialog/tiny-alert.png" />The zip code you entered is not valid.\n</div>\n\n<div class="warning-message weight-missing-warning-message">\n  <img src="/universal/images-v6/dialog/tiny-alert.png" />All products in this cart are missing weight information.\n</div>\n\n<div class="warning-message service-unavailable-warning-message">\n  <img src="/universal/images-v6/dialog/tiny-alert.png" />A method is unavailable because all items violate carrier \n  limits.\n</div>\n\n<div class="warning-message carrier-warning-message">\n  <img src="/universal/images-v6/dialog/tiny-alert.png" />Something went wrong reaching the shipping carrier for estimates.\n</div>\n\n<div class="loading-spinner"></div>\n<div class="options-container"></div>\n'})})();
a.Handlebars.registerPartial("shipping-options-list.html".replace("/","."),e.templates["shipping-options-list.html"])},"1.0",{requires:["handlebars-base"]})},1821:function(m,n,g){YUI.add("squarespace-shipping-options-list-option-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["shipping-options-list-option.html"]=a(function(a,b,f,e,g){function p(a,b){var c,d;c="(";(d=f.speed)?d=d.call(a,{hash:{},data:b}):(d=a.speed,d=typeof d===l?d.apply(a):d);return c+=
q(d)+")"}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,a.helpers);g=g||{};var l="function",q=this.escapeExpression,m=f.helperMissing;a='<div class="shipping-option ';if((e=f["if"].call(b,b.showAlert,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return"disabled"},g),data:g}))||0===e)a+=e;a+='">\n\n  <div class="option">\n\n    <label class="shipping-option-label">\n\n      <input type="radio" value="';(e=f.id)?e=e.call(b,{hash:{},data:g}):(e=b.id,e=typeof e===l?e.apply(b):e);a+=q(e)+
'" title="';(e=f.name)?e=e.call(b,{hash:{},data:g}):(e=b.name,e=typeof e===l?e.apply(b):e);a+=q(e)+'" data-computed-cost="';(e=f.computedCost)?e=e.call(b,{hash:{},data:g}):(e=b.computedCost,e=typeof e===l?e.apply(b):e);a+=q(e)+'"\n          name="selectedShippingOption" ';if((e=f["if"].call(b,b.showAlert,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){return'disabled="true"'},g),data:g}))||0===e)a+=e;a+=' />\n      <span class="option-name" title="';(e=f.name)?e=e.call(b,{hash:{},data:g}):
(e=b.name,e=typeof e===l?e.apply(b):e);a+=q(e)+" ";if((e=f["if"].call(b,b.speed,{hash:{},inverse:this.noop,fn:this.program(5,p,g),data:g}))||0===e)a+=e;a+='">';(e=f.name)?e=e.call(b,{hash:{},data:g}):(e=b.name,e=typeof e===l?e.apply(b):e);a+=q(e)+" ";if((e=f["if"].call(b,b.speed,{hash:{},inverse:this.noop,fn:this.program(5,p,g),data:g}))||0===e)a+=e;g={hash:{},data:g};return a=a+'</span>\n\n      <div class="shipping-failure">\n        <img src="/universal/images-v6/dialog/tiny-alert-inverted.png" />\n      </div>\n\n      <span class="cost">&mdash;&nbsp;<strong>'+
(q((e=f["money-string"]||b["money-string"],e?e.call(b,b.computedCost,g):m.call(b,"money-string",b.computedCost,g)))+"</strong></span>\n\n    </label>\n\n  </div>\n\n</div>")})})();a.Handlebars.registerPartial("shipping-options-list-option.html".replace("/","."),e.templates["shipping-options-list-option.html"])},"1.0",{requires:["handlebars-base"]})},1822:function(m,n,g){YUI.add("squarespace-checkout-form-shipping-info-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=
e.templates||{})["checkout-form-shipping-info.html"]=a(function(a,b,e,g,k){function p(a,b){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,a.helpers);k=k||{};var l,q=this;a='<div class="title">\n  Contact &amp; Shipping\n  <a class="edit-button">edit</a>\n</div>\n\n<fieldset>\n\n    <div class="subtitle contact-info-subtitle">Your Email Address</div>\n    \x3c!-- Email Address --\x3e\n    <div id="email" data-label="Email Address" class="field email required">\n      <label>Email Address</label>\n      <input name="email" class="field-element" placeholder="Email"\n          x-autocompletetype="email" type="email" spellcheck="false" maxlength="50" type="email" />\n    </div>\n    <div class="description">Receipts and notifications will be sent to this email address.</div>\n\n    ';
if((b=e["if"].call(b,(l=b.optionalFields,null==l||!1===l?l:l.showMailingList),{hash:{},inverse:q.noop,fn:q.program(1,function(a,b){var c,d;c='\n      \x3c!-- Mailchimp (optional) --\x3e\n      <div class="join-mailing-list">\n        <label>\n          <input type="checkbox" name="joinMailingList" class="field-element" ';if((d=e["if"].call(a,a.enableMailingListOptInByDefault,{hash:{},inverse:q.noop,fn:q.program(2,p,b),data:b}))||0===d)c+=d;return c+"></input>\n          Join our mailing list\n        </label>\n      </div>\n    "},
k),data:k}))||0===b)a+=b;return a+'\n\n  <div class="subtitle shipping-address-subtitle">Shipping Address</div>\n\n  \x3c!-- Shipping Address --\x3e\n  <div id="shipping-address-wrapper">\n\n    <div class="shipping-fields">\n\n      \x3c!-- First Name --\x3e\n      <div id="shipping-first-name" data-label="First Name" class="field first-name required">\n        <label>First Name</label>\n        <input name="shippingFirstName" class="field-element"\n            placeholder="First Name" x-autocompletetype="given-name" type="text" spellcheck="false" maxlength="30" />\n      </div>\n\n\n      \x3c!-- Last Name --\x3e\n      <div id="shipping-last-name" data-label="Last Name" class="field last-name required">\n        <label>Last Name</label>\n        <input name="shippingLastName" class="field-element" placeholder="Last Name"\n            x-autocompletetype="surname" type="text" spellcheck="false" maxlength="30" />\n      </div>\n\n\n      \x3c!-- Shipping Address 1 --\x3e\n      <div id="shipping-address-1" data-label="Address Line 1" class="field address required">\n        <label>Address Line 1</label>\n        <input name="shippingAddress1" class="field-element address-line1" type="text"\n            x-autocompletetype="address-line1" placeholder="Street Address 1" spellcheck="false" maxlength="50" />\n      </div>\n\n\n      \x3c!-- Shipping Address 2 --\x3e\n      <div id="shipping-address-2" data-label="Address Line 2" class="field address">\n        <label>Address Line 2</label>\n        <input name="shippingAddress2" class="field-element address-line2" type="text"\n            placeholder="Street Address 2" x-autocompletetype="address-line2" spellcheck="false" maxlength="50" />\n      </div>\n\n\n      \x3c!-- Country --\x3e\n      <div id="shipping-country" data-label="Country" class="field country required">\n        <label>Country</label>\n        <select name="shippingCountry" class="field-element"\n            x-autocompletetype="country-name">\n        </select>\n      </div>\n\n\n      \x3c!-- City --\x3e\n      <div id="shipping-city" data-label="City" class="field city required">\n        <label>City</label>\n        <input name="shippingCity" class="field-element" placeholder="City"\n            x-autocompletetype="city" type="text" spellcheck="false" maxlength="30" />\n      </div>\n\n\n      \x3c!-- State/Province --\x3e\n      <div id="shipping-state" data-label="State/Province" class="field state required">\n        <label>State/Province</label>\n        <select name="shippingState" class="field-element"\n            x-autocompletetype="state">\n        </select>\n      </div>\n\n\n      \x3c!-- Zip Code --\x3e\n      <div id="shipping-zip" data-label="Zip Code" class="field zip required">\n        <label>Zip / Postal</label>\n        <input name="shippingZip" class="field-element"\n            x-autocompletetype="postal-code" placeholder="Zip / Postal" type="text" spellcheck="false" maxlength="10" />\n      </div>\n\n      <div id="phone" data-label="Phone Number" class="field phone">\n        <label>Phone Number</label>\n        <input name="phone" class="field-element" placeholder="Phone Number"\n            x-autocompletetype="phone" spellcheck="false" maxlength="20" type="tel" />\n      </div>\n\n    </div>\n\n\n  </div> \x3c!-- end #shipping-address --\x3e\n\n\n\n  \x3c!-- Continue --\x3e\n  <div class="btn-container">\n    <div class="button continue-button">Continue</div>\n  </div>\n\n</fieldset>\n'})})();
a.Handlebars.registerPartial("checkout-form-shipping-info.html".replace("/","."),e.templates["checkout-form-shipping-info.html"])},"1.0",{requires:["handlebars-base"]})},1823:function(m,n,g){YUI.add("squarespace-checkout-saved-shipping-info-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["checkout-saved-shipping-info.html"]=a(function(a,b,e,g,k){function p(a,b){var c;(c=e.shippingCity)?c=c.call(a,{hash:{},data:b}):(c=a.shippingCity,c=typeof c===
n?c.apply(a):c);return s(c)}function l(a,b){var c,d;c=",&nbsp;";(d=e.shippingState)?d=d.call(a,{hash:{},data:b}):(d=a.shippingState,d=typeof d===n?d.apply(a):d);return c+=s(d)}function q(a,b){var c,d;c="&nbsp;&nbsp;";(d=e.shippingZip)?d=d.call(a,{hash:{},data:b}):(d=a.shippingZip,d=typeof d===n?d.apply(a):d);return c+=s(d)}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,a.helpers);k=k||{};var m,n="function",s=this.escapeExpression,u=this;g=e.blockHelperMissing;a='<div class="saved-fieldset">\n\n  ';
m={hash:{},inverse:u.noop,fn:u.program(1,function(a,b){var c,d;c='\n\n    <div class="subtitle">Your Email Address</div>\n    <div>';(d=e.email)?d=d.call(a,{hash:{},data:b}):(d=a.email,d=typeof d===n?d.apply(a):d);c+=s(d)+'</div>\n    <br />\n    \n\n    <div class="subtitle">Shipping Address</div>\n    <div>\n      ';(d=e.shippingFirstName)?d=d.call(a,{hash:{},data:b}):(d=a.shippingFirstName,d=typeof d===n?d.apply(a):d);c+=s(d)+"&nbsp;";(d=e.shippingLastName)?d=d.call(a,{hash:{},data:b}):(d=a.shippingLastName,
d=typeof d===n?d.apply(a):d);c+=s(d)+"\n    </div>\n    <div>";(d=e.shippingAddress1)?d=d.call(a,{hash:{},data:b}):(d=a.shippingAddress1,d=typeof d===n?d.apply(a):d);c+=s(d)+"</div>\n    <div>";(d=e.shippingAddress2)?d=d.call(a,{hash:{},data:b}):(d=a.shippingAddress2,d=typeof d===n?d.apply(a):d);c+=s(d)+"</div>\n\n    <div>\n      ";if((d=e["if"].call(a,a.shippingCity,{hash:{},inverse:u.noop,fn:u.program(2,p,b),data:b}))||0===d)c+=d;if((d=e["if"].call(a,a.shippingState,{hash:{},inverse:u.noop,fn:u.program(4,
l,b),data:b}))||0===d)c+=d;if((d=e["if"].call(a,a.shippingZip,{hash:{},inverse:u.noop,fn:u.program(6,q,b),data:b}))||0===d)c+=d;c+="\n    </div>\n\n    <div>";(d=e.shippingCountry)?d=d.call(a,{hash:{},data:b}):(d=a.shippingCountry,d=typeof d===n?d.apply(a):d);c+=s(d)+"</div>\n    <div>";(d=e.phone)?d=d.call(a,{hash:{},data:b}):(d=a.phone,d=typeof d===n?d.apply(a):d);return c+=s(d)+"</div>\n\n    <br />\n\n  "},k),data:k};(k=e.requiresShipping)?k=k.call(b,m):(k=b.requiresShipping,k=typeof k===n?k.apply(b):
k);e.requiresShipping||(k=g.call(b,k,m));if(k||0===k)a+=k;return a+"\n\n</div>\n"})})();a.Handlebars.registerPartial("checkout-saved-shipping-info.html".replace("/","."),e.templates["checkout-saved-shipping-info.html"])},"1.0",{requires:["handlebars-base"]})},1824:function(m,n,g){YUI.add("squarespace-checkout-form-payment-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["checkout-form-payment.html"]=a(function(a,b,e,g,k){this.compilerInfo=[4,">= 1.0.0"];
e=this.merge(e,a.helpers);k=k||{};var p,l=this.escapeExpression,m=e.helperMissing;a='<div class="title">\n  <a class="edit-button">edit</a>\n\n  <div class="cards">\n    <img src="https://static.squarespace.com/universal/images-v6/checkout/discover.png" />\n    <img src="https://static.squarespace.com/universal/images-v6/checkout/mastercard.png" />\n    <img src="https://static.squarespace.com/universal/images-v6/checkout/visa.png" />\n    <img src="https://static.squarespace.com/universal/images-v6/checkout/americanexpress.png" />\n  </div>\n\n  Billing\n</div>\n\n<fieldset>\n\n  <div class="subtitle">Billing Address</div>\n\n  \x3c!-- bill to shipping --\x3e\n  ';
if((g=e["if"].call(b,b.requiresShipping,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return'\n    <div class="bill-to-shipping">\n      <label>\n        <input name="billToShipping" class="field-element" type="checkbox" />\n        Use Shipping Address\n      </label>\n    </div>\n  '},k),data:k}))||0===g)a+=g;p={hash:{"short":"true"},data:k};a=a+'\n\n  \x3c!-- Billing Information --\x3e\n  <div id="billing-address">\n\n    \x3c!-- First Name --\x3e\n    <div id="billing-first-name" data-label="First Name" class="field first-name required">\n      <label>First Name</label>\n      <input name="billingFirstName" class="field-element" placeholder="First Name"\n          x-autocompletetype="given-name" type="text" spellcheck="false" maxlength="30" />\n    </div>\n\n\n    \x3c!-- Last Name --\x3e\n    <div id="billing-last-name" data-label="Last Name" class="field last-name required">\n      <label>Last Name</label>\n      <input name="billingLastName" class="field-element" placeholder="Last Name"\n          x-autocompletetype="surname"a type="text" spellcheck="false" maxlength="30" />\n    </div>\n\n\n    \x3c!-- Billing Address 1 --\x3e\n    <div id="billing-address-1" data-label="Address Line 1" class="field required">\n      <label>Address Line 1</label>\n      <input name="billingAddress1" class="field-element address-line1"\n          placeholder="Address Line 1" x-autocompletetype="address-line1" type="text" spellcheck="false" maxlength="50" />\n    </div>\n\n\n    \x3c!-- Billing Address 2 --\x3e\n    <div id="billing-address-2" data-label="Address Line 2" class="field">\n      <label>Address Line 2</label>\n      <input name="billingAddress2" class="field-element address-line2"\n          placeholder="Address Line 2" type="text" x-autocompletetype="address-line2" spellcheck="false" maxlength="50" />\n    </div>\n\n\n    \x3c!-- Country --\x3e\n    <div id="billing-country" data-label="Country" class="field country required">\n      <label>Country</label>\n      <select name="billingCountry" class="field-element" x-autocompletetype="country-name">\n      </select>\n    </div>\n\n\n    \x3c!-- City --\x3e\n    <div id="billing-city" data-label="City" class="field city required">\n      <label>City</label>\n      <input name="billingCity" class="field-element" placeholder="City" type="text"\n          spellcheck="false" maxlength="30" />\n    </div>\n\n\n    \x3c!-- State/Province --\x3e\n    <div id="billing-state" data-label="State/Province" class="field state required">\n      <label>State/Province</label>\n      <select name="billingState" class="field-element" x-autocompletetype="state">\n      </select>\n    </div>\n\n\n    \x3c!-- Zip Code --\x3e\n    <div id="billing-zip" data-label="Zip Code" class="field zip required">\n      <label>Zip / Postal</label>\n      <input name="billingZip" class="field-element" placeholder="Zip / Postal" type="text"\n          spellcheck="false" maxlength="10" />\n    </div>\n\n  </div>\n\n  <div class="subtitle">Secure Payment</div>\n\n  \x3c!-- \n    Credit Card Fields \n    NOTA BENE: These INPUTs are left without \'name\' because we ABSOLUTELY must NOT\n    transmit these values to our own servers.\n  --\x3e\n  <div id="credit-card">\n\n    \x3c!-- Name --\x3e\n    <input name="cardHolderName" type="hidden" />\n\n    \x3c!-- Card Number --\x3e\n    <div id="card-number" data-label="Card Number" class="field">\n      <label>Card Number</label>\n\n      <input class="field-element" size="20"\n          autocomplete="off" placeholder="Card Number" value="" />\n    </div>\n\n    \x3c!-- Expiry/CVC --\x3e\n    <div id="expiry-cvc">\n\n      \x3c!-- Expiry Month --\x3e\n      <div id="card-expiry-month" data-label="Exp. Mo." class="field">\n        <label>Exp. Mo.</label>\n        <select class="field-element" value="04" >\n          '+
(l((g=e["month-options"]||b["month-options"],g?g.call(b,p):m.call(b,"month-options",p)))+'\n        </select>\n      </div>\n\n      \x3c!-- Expiry Year --\x3e\n      <div id="card-expiry-year" data-label="Exp. Yr." class="field">\n        <label>Exp. Yr.</label>\n        <select class="field-element" value="2015" >\n          ');(p=e["year-options"])?p=p.call(b,{hash:{},data:k}):(p=b["year-options"],p="function"===typeof p?p.apply(b):p);a+=l(p)+'\n        </select>\n      </div>\n\n      \x3c!-- CVC --\x3e\n      <div id="cvc" data-label="CVC" class="field">\n        <label>CVC</label>\n        <input class="field-element" size="4" autocomplete="off"\n            placeholder="CVC" value="" />\n      </div>\n\n    </div>\n\n  </div> \x3c!-- end #credit-card --\x3e\n\n\n  \x3c!-- Secure payment conditions --\x3e\n  <div id="comfort">\n    All transactions are secure and encrypted, and we never store your credit card information. Payments are\n    processed through Stripe. Payment information is also governed by\n    <a target="_blank" href="https://stripe.com/privacy">Stripe\'s privacy policy</a>.\n  </div>\n\n\n  \x3c!-- Place Order --\x3e\n  <div id="place-order">\n    <div id="place-order-button" class="button continue-button" value="Place Order" >'+
l((g=(g=b.strings,null==g||!1===g?g:g.submitText),"function"===typeof g?g.apply(b):g))+'</div>\n\n    <div class="wait-in-queue-message" style="display: none">\n      Due to heavy traffic, your payment will be accepted shortly. Please don\'t hit the "back" button or leave the page.\n    </div>\n\n    \x3c!-- hidden field to convey the Stripe Token so we may submit the charge --\x3e\n    <input name="stripeToken" type="hidden" />\n\n    \x3c!-- optional hidden fields --\x3e\n    ';if((p=e.each.call(b,
b.optionalHiddenFields,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var c;return c=""+('\n      <input name="'+l("function"===typeof a?a.apply(a):a)+'" type="hidden" />\n    ')},k),data:k}))||0===p)a+=p;return a+="\n\n  </div>\n\n</fieldset>\n"})})();a.Handlebars.registerPartial("checkout-form-payment.html".replace("/","."),e.templates["checkout-form-payment.html"])},"1.0",{requires:["handlebars-base"]})},1825:function(m,n,g){YUI.add("squarespace-contribution-summary-template",function(a){var e=
a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["contribution-summary.html"]=a(function(a,b,e,g,k){function m(a,b){var c,d;c="\n<p>\n  ";(d=e.description)?d=d.call(a,{hash:{},data:b}):(d=a.description,d=typeof d===s?d.apply(a):d);return c+=u(d)+"\n</p>\n"}function l(a,b){var c,d;c='\n      <div class="suggested-contributions">\n        ';if((d=e.each.call(a,a.suggestedContributions,{hash:{},inverse:v.noop,fn:v.program(5,q,b),data:b}))||0===d)c+=d;return c+'\n\n        <div class="option">\n          <input type="radio" name="contribution" id="other" value="other" />\n          <label for="other">Other \n            &nbsp;<input type="text" placeholder="Enter Other Amount" name="contributionAmount" />\n          </label>\n          <br />\n        </div>\n      </div>\n    '}
function q(a,b){var c,d;c='\n          <div class="option">\n            <input type="radio" name="contribution" id="';(d=e.amountCents)?d=d.call(a,{hash:{},data:b}):(d=a.amountCents,d=typeof d===s?d.apply(a):d);c+=u(d)+'" value="';(d=e.amountCents)?d=d.call(a,{hash:{},data:b}):(d=a.amountCents,d=typeof d===s?d.apply(a):d);c+=u(d)+'" />\n            <label for="';(d=e.amountCents)?d=d.call(a,{hash:{},data:b}):(d=a.amountCents,d=typeof d===s?d.apply(a):d);c+=u(d)+'"><span class="sqs-money-native">';
(d=e.amountDollars)?d=d.call(a,{hash:{},data:b}):(d=a.amountDollars,d=typeof d===s?d.apply(a):d);c+=u(d)+"</span>&nbsp;";if((d=e["if"].call(a,a.label,{hash:{},inverse:v.noop,fn:v.program(6,n,b),data:b}))||0===d)c+=d;return c+"</label><br />\n          </div>\n        "}function n(a,b){var c,d;c="(";(d=e.label)?d=d.call(a,{hash:{},data:b}):(d=a.label,d=typeof d===s?d.apply(a):d);return c+=u(d)+")"}function t(a,b){return'\n    \n      <input type="text" placeholder="Enter Other Amount" name="contributionAmount" /><br />\n    '}
this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,a.helpers);k=k||{};a="";var s="function",u=this.escapeExpression,v=this;if((b=e["with"].call(b,b.donatePage,{hash:{},inverse:v.noop,fn:v.program(1,function(a,b){var c,d;c='\n\n<div class="title">Your Contribution<a class="edit-button">edit</a></div>\n\n<fieldset>\n\n';if((d=e["if"].call(a,a.description,{hash:{},inverse:v.noop,fn:v.program(2,m,b),data:b}))||0===d)c+=d;c+='\n\n<div class="choices">\n\n  <div class="title prompt"></div>\n  <div class="contribution-option-list">\n\n    \n    ';
if((d=e["if"].call(a,a.suggestedContributions,{hash:{},inverse:v.program(8,t,b),fn:v.program(4,l,b),data:b}))||0===d)c+=d;return c+'\n\n  </div>\n\n</div>\n\n\n\x3c!-- Continue --\x3e\n<div class="btn-container">\n  <div class="button continue-button">Continue</div>\n</div>\n\n</fieldset>\n'},k),data:k}))||0===b)a+=b;return a+"\n"})})();a.Handlebars.registerPartial("contribution-summary.html".replace("/","."),e.templates["contribution-summary.html"])},"1.0",{requires:["handlebars-base"]})},1826:function(m,
n,g){YUI.add("squarespace-checkout-saved-contribution-template",function(a){var e=a.Handlebars;(function(){var a=e.template;(e.templates=e.templates||{})["checkout-saved-contribution.html"]=a(function(a,b,e,g,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,a.helpers);k=k||{};var m=this.escapeExpression;a='<div class="saved-fieldset">\n\n  You will donate ';(g=e.donationAmount)?g=g.call(b,{hash:{},data:k}):(g=b.donationAmount,g="function"===typeof g?g.apply(b):g);if(g||0===g)a+=g;a+=" to ";(g=e.title)?
g=g.call(b,{hash:{},data:k}):(g=b.title,g="function"===typeof g?g.apply(b):g);return a+=m(g)+"\n\n</div>\n"})})();a.Handlebars.registerPartial("checkout-saved-contribution.html".replace("/","."),e.templates["checkout-saved-contribution.html"])},"1.0",{requires:["handlebars-base"]})}});
